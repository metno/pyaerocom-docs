

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started &mdash; pyaerocom  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AEROCOM default regions (class Region)" href="tut01_intro_regions.html" />
    <link rel="prev" title="Getting started" href="../getting_started_analysis.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pyaerocom
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#aerocom">AeroCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#citation">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#website-and-code-documentation">Website and code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#requirements">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#installation-of-pyaerocom">Installation of pyaerocom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#access-to-users-database">Access to users database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html#getting-started">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#getting-started">Getting started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#outdated-tutorials">Outdated tutorials</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Reading-of-and-working-with-gridded-model-data-(ReadGridded-and-GriddedData-classes)">Reading of and working with <em>gridded</em> model data (<code class="docutils literal notranslate"><span class="pre">ReadGridded</span></code> and <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> classes)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Reading-of-and-working-with-ungridded-data-(ReadUngridded-and-UngriddedData-classes)">Reading of and working with ungridded data (<code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> and <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> classes)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Colocation-of-model-and-obsdata">Colocation of model and obsdata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tut01_intro_regions.html">AEROCOM default regions (class <code class="docutils literal notranslate"><span class="pre">Region</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="tut04_intro_class_GriddedData.html">The <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class</a></li>
<li class="toctree-l3"><a class="reference internal" href="tut05_intro_ungridded_reading.html">Reading of ungridded observation datasets in pyaerocom</a></li>
<li class="toctree-l3"><a class="reference internal" href="tut06_intro_UngriddedData_and_StationData_classes.html">Introduction into the UngriddedData class and the StationData class</a></li>
<li class="toctree-l3"><a class="reference internal" href="tut07_intro_colocation.html">Colocation of model data with observations</a></li>
<li class="toctree-l3"><a class="reference internal" href="add04_stationdata_merging.html">Merging of several StationData objects into one</a></li>
<li class="toctree-l3"><a class="reference internal" href="tut08_trends_computation.html">Short tutorial showing how trends can be computed within pyaerocom</a></li>
<li class="toctree-l3"><a class="reference internal" href="add03_ebas_database_browser.html">EBAS file query and database browser</a></li>
<li class="toctree-l3"><a class="reference internal" href="add02_read_ebas_nasa_ames.html">Tutorial showing how to read EBAS NASA Ames files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyaerocom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pyaerocom-tutorials/obsolete/tut00_get_started.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Getting-started">
<h1>Getting started<a class="headerlink" href="#Getting-started" title="Permalink to this headline">¶</a></h1>
<p>This notebook is meant to give a quick introduction into the main features and workflows of <a class="reference external" href="http://aerocom.met.no/pyaerocom/">pyaerocom</a>.</p>
<p>This includes brief introductions into the following features:</p>
<ul class="simple">
<li><p>Finding model and observation data on the AeroCom servers (method <code class="docutils literal notranslate"><span class="pre">browse_database</span></code>).</p></li>
<li><p>Reading of <strong>gridded</strong> model data (<code class="docutils literal notranslate"><span class="pre">ReadGridded</span></code> class).</p></li>
<li><p>Reading of <strong>ungridded</strong> observation data (<code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> class).</p></li>
<li><p>Working with <strong>gridded</strong> data (<code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class).</p></li>
<li><p>Working with <strong>ungridded</strong> data (<code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> class).</p></li>
<li><p>Retrieving and working with data from individual stations (<code class="docutils literal notranslate"><span class="pre">StationData</span></code> class).</p></li>
<li><p><strong>Colocation</strong> of model data with all stations from an observation network.</p></li>
</ul>
<p>It ends with a colocation of CAM53-Oslo model AODs both all-sky and clear-sky with Aeronet Sun V3 level 2 data.</p>
<div class="section" id="Prerequisites">
<h2>Prerequisites<a class="headerlink" href="#Prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>In order to run this notebook, you need to be connected to the AeroCom post processing servers (PPI).</p></li>
<li><p>If you have PPI (/lustre/) mounted on your local machine you need to update the basic data directory after importing pyaerocom as follows: <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pyaerocom</span> <span class="pre">as</span> <span class="pre">pya</span>&#160; <span class="pre">pya.const.BASEDIR</span> <span class="pre">=</span> <span class="pre">&lt;path_where_lustre_is_mounted&gt;</span></code></p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pyaerocom</span> <span class="k">as</span> <span class="nn">pya</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Initating pyaerocom configuration
Checking database access...
Checking access to: /lustre/storeA
Access to lustre database: True
Init data paths for lustre
Expired time: 0.021 s
</pre></div></div>
</div>
<div class="section" id="Check-data-directory">
<h3>Check data directory<a class="headerlink" href="#Check-data-directory" title="Permalink to this headline">¶</a></h3>
<p>By default, pyaerocom assumes that the AEROCOM database can be accessed (cf. top of flowchart), that is, it initiates all data query paths relative to the database server path names.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">BASEDIR</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;/lustre/storeA/project/aerocom&#39;
</pre></div></div>
</div>
<p><strong>NOTE</strong>: Execution of the following lines will only work if you are connected to the AEROCOM data server or if you have access to the pyaerocom testdataset. The latter can be retrieved upon request (please contact <a class="reference external" href="mailto:jonasg&#37;&#52;&#48;met&#46;no">jonasg<span>&#64;</span>met<span>&#46;</span>no</a>).</p>
</div>
</div>
<div class="section" id="Reading-of-and-working-with-gridded-model-data-(ReadGridded-and-GriddedData-classes)">
<h2>Reading of and working with <em>gridded</em> model data (<code class="docutils literal notranslate"><span class="pre">ReadGridded</span></code> and <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> classes)<a class="headerlink" href="#Reading-of-and-working-with-gridded-model-data-(ReadGridded-and-GriddedData-classes)" title="Permalink to this headline">¶</a></h2>
<p>This section illustrates the reading of gridded data as well as some features of the <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class of <em>pyaerocom</em>. First, however, we have to find a valid model ID for the reading (cf. flow chart).</p>
<div class="section" id="Find-model-data">
<h3>Find model data<a class="headerlink" href="#Find-model-data" title="Permalink to this headline">¶</a></h3>
<p>The database contains data from the CAM53-Oslo model, which is used in the following. You can use the <code class="docutils literal notranslate"><span class="pre">browse_database</span></code> function of pyaerocom to find model ID’s (which can be quite cryptic sometimes) using wildcard pattern search.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;CAM53*-Oslo*UNTUNED*&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Pyaerocom ReadGridded
---------------------
Data ID: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PI_UNTUNED
Data directory: /lustre/storeA/project/aerocom/aerocom2/NorESM_SVN_TEST/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PI_UNTUNED/renamed
Available experiments: [&#39;UNTUNED&#39;]
Available years: [9999]
Available frequencies [&#39;monthly&#39;]
Available variables: [&#39;abs440aer&#39;, &#39;abs440aercs&#39;, &#39;abs500aer&#39;, &#39;abs5503Daer&#39;, &#39;abs550aer&#39;, &#39;abs550bc&#39;, &#39;abs550dryaer&#39;, &#39;abs550dust&#39;, &#39;abs550oa&#39;, &#39;abs550so4&#39;, &#39;abs550ss&#39;, &#39;abs670aer&#39;, &#39;abs870aer&#39;, &#39;airmass&#39;, &#39;area&#39;, &#39;asy3Daer&#39;, &#39;bc5503Daer&#39;, &#39;cheaqpso4&#39;, &#39;chegpso4&#39;, &#39;chepso2&#39;, &#39;cl3D&#39;, &#39;clt&#39;, &#39;drybc&#39;, &#39;drydms&#39;, &#39;drydust&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec5503Daer&#39;, &#39;ec550dryaer&#39;, &#39;emibc&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;emioa&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;hus&#39;, &#39;landf&#39;, &#39;loadbc&#39;, &#39;loaddms&#39;, &#39;loaddust&#39;, &#39;loadoa&#39;, &#39;loadso2&#39;, &#39;loadso4&#39;, &#39;loadss&#39;, &#39;mmraerh2o&#39;, &#39;mmrbc&#39;, &#39;mmrdu&#39;, &#39;mmroa&#39;, &#39;mmrso4&#39;, &#39;mmrss&#39;, &#39;od440aer&#39;, &#39;od440csaer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550csaer&#39;, &#39;od550dust&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1dust&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550ss&#39;, &#39;od670aer&#39;, &#39;od870aer&#39;, &#39;od870csaer&#39;, &#39;orog&#39;, &#39;precip&#39;, &#39;pressure&#39;, &#39;ps&#39;, &#39;rlds&#39;, &#39;rlus&#39;, &#39;rlut&#39;, &#39;rlutcs&#39;, &#39;rsds&#39;, &#39;rsdscs&#39;, &#39;rsdt&#39;, &#39;rsus&#39;, &#39;rsut&#39;, &#39;sconcbc&#39;, &#39;sconcdms&#39;, &#39;sconcdust&#39;, &#39;sconcoa&#39;, &#39;sconcso2&#39;, &#39;sconcso4&#39;, &#39;sconcss&#39;, &#39;temp&#39;, &#39;vmrdms&#39;, &#39;vmrso2&#39;, &#39;wetbc&#39;, &#39;wetdms&#39;, &#39;wetdust&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]

Pyaerocom ReadGridded
---------------------
Data ID: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
Data directory: /lustre/storeA/project/aerocom/aerocom2/NorESM_SVN_TEST/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed
Available experiments: [&#39;UNTUNED&#39;]
Available years: [2004, 2005, 2006, 2007, 2008, 2009, 2010, 9999]
Available frequencies [&#39;monthly&#39;]
Available variables: [&#39;abs440aer&#39;, &#39;abs440aercs&#39;, &#39;abs500aer&#39;, &#39;abs5503Daer&#39;, &#39;abs550aer&#39;, &#39;abs550aercs&#39;, &#39;abs550bc&#39;, &#39;abs550dryaer&#39;, &#39;abs550dust&#39;, &#39;abs550oa&#39;, &#39;abs550so4&#39;, &#39;abs550ss&#39;, &#39;abs670aer&#39;, &#39;abs870aer&#39;, &#39;airmass&#39;, &#39;ang4487aer&#39;, &#39;ang4487csaer&#39;, &#39;area&#39;, &#39;asy3Daer&#39;, &#39;bc5503Daer&#39;, &#39;cheaqpso4&#39;, &#39;chegpso4&#39;, &#39;chepso2&#39;, &#39;cl3D&#39;, &#39;clt&#39;, &#39;drybc&#39;, &#39;drydms&#39;, &#39;drydust&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec5503Daer&#39;, &#39;ec550dryaer&#39;, &#39;emibc&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;emioa&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;hus&#39;, &#39;landf&#39;, &#39;loadbc&#39;, &#39;loaddms&#39;, &#39;loaddust&#39;, &#39;loadoa&#39;, &#39;loadso2&#39;, &#39;loadso4&#39;, &#39;loadss&#39;, &#39;mmraerh2o&#39;, &#39;mmrbc&#39;, &#39;mmrdu&#39;, &#39;mmroa&#39;, &#39;mmrso4&#39;, &#39;mmrss&#39;, &#39;od440aer&#39;, &#39;od440csaer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550csaer&#39;, &#39;od550dust&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1dust&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550ss&#39;, &#39;od670aer&#39;, &#39;od870aer&#39;, &#39;od870csaer&#39;, &#39;orog&#39;, &#39;precip&#39;, &#39;pressure&#39;, &#39;ps&#39;, &#39;rlds&#39;, &#39;rlus&#39;, &#39;rlut&#39;, &#39;rlutcs&#39;, &#39;rsds&#39;, &#39;rsdscs&#39;, &#39;rsdt&#39;, &#39;rsus&#39;, &#39;rsut&#39;, &#39;sconcbc&#39;, &#39;sconcdms&#39;, &#39;sconcdust&#39;, &#39;sconcoa&#39;, &#39;sconcso2&#39;, &#39;sconcso4&#39;, &#39;sconcss&#39;, &#39;temp&#39;, &#39;vmrdms&#39;, &#39;vmrso2&#39;, &#39;wetbc&#39;, &#39;wetdms&#39;, &#39;wetdust&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]
</pre></div></div>
</div>
</div>
<div class="section" id="Initiate-reader-class-for-the-present-day-(PD)-dataset">
<h3>Initiate reader class for the present day (PD) dataset<a class="headerlink" href="#Initiate-reader-class-for-the-present-day-(PD)-dataset" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadGridded</span><span class="p">(</span><span class="s1">&#39;CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>You can have a look at the individual files and corresponding metadata using the <code class="docutils literal notranslate"><span class="pre">file_info</span></code> attribute:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">reader</span><span class="o">.</span><span class="n">file_info</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>var_name</th>
      <th>year</th>
      <th>ts_type</th>
      <th>vert_code</th>
      <th>data_id</th>
      <th>name</th>
      <th>meteo</th>
      <th>experiment</th>
      <th>is_at_stations</th>
      <th>3D</th>
      <th>filename</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>345</td>
      <td>abs440aer</td>
      <td>2004</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>506</td>
      <td>abs440aer</td>
      <td>2005</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>340</td>
      <td>abs440aer</td>
      <td>2006</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>12</td>
      <td>abs440aer</td>
      <td>2007</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>685</td>
      <td>abs440aer</td>
      <td>2008</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>169</td>
      <td>wetss</td>
      <td>2007</td>
      <td>monthly</td>
      <td>Surface</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>213</td>
      <td>wetss</td>
      <td>2008</td>
      <td>monthly</td>
      <td>Surface</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>36</td>
      <td>wetss</td>
      <td>2009</td>
      <td>monthly</td>
      <td>Surface</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>129</td>
      <td>wetss</td>
      <td>2010</td>
      <td>monthly</td>
      <td>Surface</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>454</td>
      <td>wetss</td>
      <td>9999</td>
      <td>monthly</td>
      <td>Surface</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
  </tbody>
</table>
<p>808 rows × 11 columns</p>
</div></div>
</div>
<p>If this contains too much information (as is the case here), you can also filter this attribute based on what you are interested in. E.g.:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">reader</span><span class="o">.</span><span class="n">filter_files</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>var_name</th>
      <th>year</th>
      <th>ts_type</th>
      <th>vert_code</th>
      <th>data_id</th>
      <th>name</th>
      <th>meteo</th>
      <th>experiment</th>
      <th>is_at_stations</th>
      <th>3D</th>
      <th>filename</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>199</td>
      <td>od550aer</td>
      <td>2004</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>414</td>
      <td>od550aer</td>
      <td>2005</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>44</td>
      <td>od550aer</td>
      <td>2006</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>333</td>
      <td>od550aer</td>
      <td>2007</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>46</td>
      <td>od550aer</td>
      <td>2008</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>679</td>
      <td>od550aer</td>
      <td>2009</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
    <tr>
      <td>352</td>
      <td>od550aer</td>
      <td>2010</td>
      <td>monthly</td>
      <td>Column</td>
      <td>CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_P...</td>
      <td>CAM53</td>
      <td>Oslo</td>
      <td>UNTUNED</td>
      <td>False</td>
      <td>False</td>
      <td>aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Read-Aerosol-optical-depth-at-550-nm">
<h3>Read Aerosol optical depth at 550 nm<a class="headerlink" href="#Read-Aerosol-optical-depth-at-550-nm" title="Permalink to this headline">¶</a></h3>
<p>Import both clear-sky (<em>cs</em> in variable name) and all-sky data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_var</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>
<span class="n">od550csaer</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_var</span><span class="p">(</span><span class="s1">&#39;od550csaer&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Both data objects are instances of class <a class="reference external" href="http://aerocom.met.no/pyaerocom/api.html#module-pyaerocom.griddeddata">GriddedData</a> which is based on the <a class="reference external" href="https://scitools.org.uk/iris/docs/v1.9.0/html/iris/iris/cube.html#iris.cube.Cube">Cube</a> class (<a class="reference external" href="https://scitools.org.uk/iris/docs/v1.9.0/html/index.html">iris library</a>) and features very similar functionality and more.</p>
<p>Some of these features are introduced below.</p>
</div>
<div class="section" id="Overview-of-what-is-in-the-data">
<h3>Overview of what is in the data<a class="headerlink" href="#Overview-of-what-is-in-the-data" title="Permalink to this headline">¶</a></h3>
<p>Simply print the object.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">od550aer</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.GriddedData: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
Grid data: Aerosol optical depth at 500nm / (1) (time: 84; latitude: 192; longitude: 288)
     Dimension coordinates:
          time                            x             -               -
          latitude                        -             x               -
          longitude                       -             -               x
     Attributes:
          Conventions: CF-1.0
          NCO: 4.3.7
          Version: $Name$
          case: 53OSLO_PD_UNTUNED
          computed: False
          concatenated: True
          data_id: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
          from_files: [&#39;/lustre/storeA/project/aerocom/aerocom2/NorESM_SVN_TEST/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed/aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED_od550aer_Column_2004_monthly.nc&#39;,...
          history: Thu Feb  9 11:05:21 2017: ncatted -O -a units,od550aer,o,c,1 /projects/NS2345K/CAM-Oslo/DO_AEROCOM/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed/aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED_od550aer_Column_2004_monthly.nc
Thu...
          host: hexagon-2
          initial_file: /work/shared/noresm/inputdata/atm/cam/inic/fv/cami-mam3_0000-01-01_0.9...
          logname: ihkarset
          nco_openmp_thread_number: 1
          outliers_removed: False
          reader: None
          region: None
          regridded: False
          revision_Id: $Id$
          source: CAM
          title: UNSET
          topography_file: /work/shared/noresm/inputdata/noresm-only/inputForNudging/ERA_f09f09_3...
          ts_type: monthly
          var_name_read: n/d
     Cell methods:
          mean: time
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">od550csaer</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.GriddedData: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
Grid data: Clear air Aerosol optical depth at 550nm / (1) (time: 84; latitude: 192; longitude: 288)
     Dimension coordinates:
          time                                      x             -               -
          latitude                                  -             x               -
          longitude                                 -             -               x
     Attributes:
          Conventions: CF-1.0
          NCO: 4.3.7
          Version: $Name$
          case: 53OSLO_PD_UNTUNED
          computed: False
          concatenated: True
          data_id: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
          from_files: [&#39;/lustre/storeA/project/aerocom/aerocom2/NorESM_SVN_TEST/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed/aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED_od550csaer_Column_2004_monthly.nc&#39;,...
          history: Thu Feb  9 11:05:16 2017: ncatted -O -a units,od550csaer,o,c,1 /projects/NS2345K/CAM-Oslo/DO_AEROCOM/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed/aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED_od550csaer_Column_2004_monthly.nc
Thu...
          host: hexagon-2
          initial_file: /work/shared/noresm/inputdata/atm/cam/inic/fv/cami-mam3_0000-01-01_0.9...
          logname: ihkarset
          nco_openmp_thread_number: 1
          outliers_removed: False
          reader: None
          region: None
          regridded: False
          revision_Id: $Id$
          source: CAM
          title: UNSET
          topography_file: /work/shared/noresm/inputdata/noresm-only/inputForNudging/ERA_f09f09_3...
          ts_type: monthly
          var_name_read: n/d
     Cell methods:
          mean: time
</pre></div></div>
</div>
</div>
<div class="section" id="Access-time-stamps">
<h3>Access time stamps<a class="headerlink" href="#Access-time-stamps" title="Permalink to this headline">¶</a></h3>
<p>Time stamps are represented as numerical values with respect to a reference date and frequency, according to the CF conventions. They can be accessed via the <code class="docutils literal notranslate"><span class="pre">time</span></code> attribute of the data class.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer</span><span class="o">.</span><span class="n">time</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DimCoord(array([   0.,   31.,   60.,   91.,  121.,  152.,  182.,  213.,  244.,
        274.,  305.,  335.,  366.,  397.,  425.,  456.,  486.,  517.,
        547.,  578.,  609.,  639.,  670.,  700.,  731.,  762.,  790.,
        821.,  851.,  882.,  912.,  943.,  974., 1004., 1035., 1065.,
       1096., 1127., 1155., 1186., 1216., 1247., 1277., 1308., 1339.,
       1369., 1400., 1430., 1461., 1492., 1521., 1552., 1582., 1613.,
       1643., 1674., 1705., 1735., 1766., 1796., 1827., 1858., 1886.,
       1917., 1947., 1978., 2008., 2039., 2070., 2100., 2131., 2161.,
       2192., 2223., 2251., 2282., 2312., 2343., 2373., 2404., 2435.,
       2465., 2496., 2526.]), standard_name=&#39;time&#39;, units=Unit(&#39;days since 2004-01-01 00:00:00&#39;, calendar=&#39;gregorian&#39;), long_name=&#39;Time&#39;, var_name=&#39;time&#39;)
</pre></div></div>
</div>
<p>You may also want the time-stamps in the form of actual datetime-like objects. These can be computed using the <code class="docutils literal notranslate"><span class="pre">time_stamps()</span></code> method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer</span><span class="o">.</span><span class="n">time_stamps</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;2004-01-01T00:00:00.000000&#39;, &#39;2004-02-01T00:00:00.000000&#39;,
       &#39;2004-03-01T00:00:00.000000&#39;], dtype=&#39;datetime64[us]&#39;)
</pre></div></div>
</div>
</div>
<div class="section" id="Plotting-maps">
<h3>Plotting maps<a class="headerlink" href="#Plotting-maps" title="Permalink to this headline">¶</a></h3>
<p>Maps of individual time stamps can be plotted using the quickplot_map method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">fig1</span> <span class="o">=</span> <span class="n">od550aer</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
<span class="n">fig2</span> <span class="o">=</span> <span class="n">od550csaer</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_26_0.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_26_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_26_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_26_1.png" />
</div>
</div>
</div>
<div class="section" id="Filtering">
<h3>Filtering<a class="headerlink" href="#Filtering" title="Permalink to this headline">¶</a></h3>
<p>Regional filtering can be performed using the <a class="reference external" href="http://aerocom.met.no/pyaerocom/api.html#module-pyaerocom.filter">Filter</a> class (cf. flowchart above).</p>
<p>An overview of available default regions can be accessed via:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">pya</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">get_all_default_region_ids</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;WORLD&#39;, &#39;EUROPE&#39;, &#39;ASIA&#39;, &#39;AUSTRALIA&#39;, &#39;CHINA&#39;, &#39;INDIA&#39;, &#39;NAFRICA&#39;, &#39;SAFRICA&#39;, &#39;SAMERICA&#39;, &#39;NAMERICA&#39;]
</pre></div></div>
</div>
<p>Now let’s go for north Africa. Create instance of Filter class:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span><span class="s1">&#39;NAFRICA&#39;</span><span class="p">)</span>
<span class="n">f</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Filter([(&#39;_name&#39;, &#39;NAFRICA-wMOUNTAINS&#39;),
        (&#39;_region&#39;,
         Region NAFRICA Region([(&#39;_name&#39;, &#39;NAFRICA&#39;), (&#39;lon_range&#39;, [-20, 50]), (&#39;lat_range&#39;, [0, 40]), (&#39;lon_range_plot&#39;, [-20, 50]), (&#39;lat_range_plot&#39;, [0, 40]), (&#39;lon_ticks&#39;, None), (&#39;lat_ticks&#39;, None)])),
        (&#39;lon_range&#39;, [-20, 50]),
        (&#39;lat_range&#39;, [0, 40]),
        (&#39;alt_range&#39;, None)])
</pre></div></div>
</div>
<p>… and apply to the two data objects (this can be done by calling the filter with the corresponding data class as input parameter):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer_nafrica</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">od550aer</span><span class="p">)</span>
<span class="n">od550csaer_nafrica</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">od550csaer</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Applying regional cropping in GriddedData using Filter class. Note that this does not yet include potential cropping in the vertical dimension. Coming soon...
Applying regional cropping in GriddedData using Filter class. Note that this does not yet include potential cropping in the vertical dimension. Coming soon...
</pre></div></div>
</div>
<p>Compare shapes:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer_nafrica</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.GriddedData
Grid data: &lt;iris &#39;Cube&#39; of Aerosol optical depth at 500nm / (1) (time: 84; latitude: 42; longitude: 57)&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.GriddedData
Grid data: &lt;iris &#39;Cube&#39; of Aerosol optical depth at 500nm / (1) (time: 84; latitude: 192; longitude: 288)&gt;
</pre></div></div>
</div>
<p>As you can see, the filtered object is reduced in the longitude and latitude dimension. Let’s plot the two new objects:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax1</span> <span class="o">=</span> <span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">od550csaer_nafrica</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_37_0.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_37_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_37_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_37_1.png" />
</div>
</div>
</div>
<div class="section" id="Filtering-of-time">
<h3>Filtering of time<a class="headerlink" href="#Filtering-of-time" title="Permalink to this headline">¶</a></h3>
<p>Filtering of time is not yet included in the Filter class but can be easily performed from the <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> object directly. If you know the indices of the time stamps you want to crop, you can simply use numpy indexing syntax (remember that we have a 3D array containing time, latitude and lonfgitude).</p>
<p>Let’s say we want to filter the <strong>year 2009</strong>.</p>
<p>Since the time dimension corresponds the first index in the 3D data (time, lat, lon), and since we know, that we have monthly data from 2008-2010 (see above), we may use</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer_nafrica_2009</span> <span class="o">=</span> <span class="n">od550aer_nafrica</span><span class="p">[</span><span class="mi">12</span><span class="p">:</span><span class="mi">24</span><span class="p">]</span>
<span class="n">od550aer_nafrica_2009</span><span class="o">.</span><span class="n">time_stamps</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;2005-01-01T00:00:00.000000&#39;, &#39;2005-02-01T00:00:00.000000&#39;,
       &#39;2005-03-01T00:00:00.000000&#39;, &#39;2005-04-01T00:00:00.000000&#39;,
       &#39;2005-05-01T00:00:00.000000&#39;, &#39;2005-06-01T00:00:00.000000&#39;,
       &#39;2005-07-01T00:00:00.000000&#39;, &#39;2005-08-01T00:00:00.000000&#39;,
       &#39;2005-09-01T00:00:00.000000&#39;, &#39;2005-10-01T00:00:00.000000&#39;,
       &#39;2005-11-01T00:00:00.000000&#39;, &#39;2005-12-01T00:00:00.000000&#39;],
      dtype=&#39;datetime64[us]&#39;)
</pre></div></div>
</div>
<p>in order to extract the year 2009.</p>
<p>However, this methodology might not always be handy (imagine you have a 10 year dataset of <code class="docutils literal notranslate"><span class="pre">3hourly</span></code> sampled data and want to extract three months in the 6th year …). In that case, you can perform the cropping using the actual timestamps (for comparibility, let’s stick to 2009 here):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer_nafrica_2009_alt</span> <span class="o">=</span> <span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">time_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1-1-2009&#39;</span><span class="p">,</span> <span class="s1">&#39;1-1-2010&#39;</span><span class="p">))</span>
<span class="n">od550aer_nafrica_2009</span><span class="o">.</span><span class="n">time_stamps</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;2005-01-01T00:00:00.000000&#39;, &#39;2005-02-01T00:00:00.000000&#39;,
       &#39;2005-03-01T00:00:00.000000&#39;, &#39;2005-04-01T00:00:00.000000&#39;,
       &#39;2005-05-01T00:00:00.000000&#39;, &#39;2005-06-01T00:00:00.000000&#39;,
       &#39;2005-07-01T00:00:00.000000&#39;, &#39;2005-08-01T00:00:00.000000&#39;,
       &#39;2005-09-01T00:00:00.000000&#39;, &#39;2005-10-01T00:00:00.000000&#39;,
       &#39;2005-11-01T00:00:00.000000&#39;, &#39;2005-12-01T00:00:00.000000&#39;],
      dtype=&#39;datetime64[us]&#39;)
</pre></div></div>
</div>
</div>
<div class="section" id="Data-aggregation">
<h3>Data aggregation<a class="headerlink" href="#Data-aggregation" title="Permalink to this headline">¶</a></h3>
<p>Let’s say we want to compute yearly means for each of the 3 years. In this case we can simply call the <code class="docutils literal notranslate"><span class="pre">downscale_time</span></code> method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">downscale_time</span><span class="p">(</span><span class="s1">&#39;yearly&#39;</span><span class="p">)</span>
<span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
This method is deprecated. Please use new name resample_time
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_44_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_44_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_44_2.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_44_2.png" />
</div>
</div>
<p><strong>Note</strong>: seasonal aggregation is not yet implemented in pyaerocom but will follow soon.</p>
<p>In the following section the reading of ungridded data is illustrated based on the example of AERONET version 3 (level 2) data. The test dataset contains a randomly picked subset of 100 Aeronet stations. Aeronet provides different products,</p>
</div>
</div>
<div class="section" id="Reading-of-and-working-with-ungridded-data-(ReadUngridded-and-UngriddedData-classes)">
<h2>Reading of and working with ungridded data (<code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> and <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> classes)<a class="headerlink" href="#Reading-of-and-working-with-ungridded-data-(ReadUngridded-and-UngriddedData-classes)" title="Permalink to this headline">¶</a></h2>
<p>Ungridded data in pyaerocom refers to data that is available in the form of <em>files per station</em> and that is not sampled in a manner that it would make sense to translate into a rgular gridded format such as the previously introduced <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class.</p>
<p>Data from the AERONET network (that is introduced in the following), for instance, is provided in the form of column seperated text files per measurement station, where columns correspond to different variables and data rows to individual time stamps. Needless to say that the time stamps (or the covered periods) vary from station to station.</p>
<p>The basic workflow for reading of ungridded data, such as Aeronet data, is very similar to the reading of gridded data (comprising a reading class that handles a query and returns a data class, here <a class="reference external" href="http://aerocom.met.no/pyaerocom/api.html#module-pyaerocom.ungriddeddata">UngriddedData</a> (see also flow chart above).</p>
<p>Before we can continue with the data import, some things need to be said related to the caching of <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> objects.</p>
<div class="section" id="Caching-of-UngriddedData">
<h3>Caching of UngriddedData<a class="headerlink" href="#Caching-of-UngriddedData" title="Permalink to this headline">¶</a></h3>
<p>Reading of ungridded data is often rather time-consuming. Therefore, pyaerocom uses a caching strategy that stores loaded instances of the <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> class as pickle files in a cache directory (illustrated in the left hand side of the flowchart shown above). The loaction of the cache directory can be accessed via:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHEDIR</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;/home/jonasg/MyPyaerocom/_cache/jonasg&#39;
</pre></div></div>
</div>
<p>You may change this directory if required.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Caching is active? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHING</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Caching is active? True
</pre></div></div>
</div>
<div class="section" id="Deactivate-/-Activate-caching">
<h4>Deactivate / Activate caching<a class="headerlink" href="#Deactivate-/-Activate-caching" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHING</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHING</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<p><strong>Note</strong>: if caching is active, make sure you have enough disk quota or change location where the files are stored.</p>
</div>
</div>
<div class="section" id="Read-Aeronet-Sun-v3-level-2-data">
<h3>Read Aeronet Sun v3 level 2 data<a class="headerlink" href="#Read-Aeronet-Sun-v3-level-2-data" title="Permalink to this headline">¶</a></h3>
<p>As illustrated in the flowchart above, ungridded observation data can be imported using the <code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> class. The reading class requires an ID for the observation network that is supposed to be read. Let’s find the right ID for these data:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;Aeronet*V3*Lev2*&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Dataset name: AeronetSunV3Lev2.daily
Data directory: /lustre/storeA/project/aerocom/aerocom1/AEROCOM_OBSDATA/AeronetSunV3Lev2.0.daily/renamed
Supported variables: [&#39;od340aer&#39;, &#39;od440aer&#39;, &#39;od500aer&#39;, &#39;od870aer&#39;, &#39;ang4487aer&#39;, &#39;ang4487aer_calc&#39;, &#39;od550aer&#39;]
Last revision: 20190920

Dataset name: AeronetSunV3Lev2.AP
Data directory: /lustre/storeA/project/aerocom/aerocom1/AEROCOM_OBSDATA/AeronetSunV3Lev2.0.AP/renamed
Supported variables: [&#39;od340aer&#39;, &#39;od440aer&#39;, &#39;od500aer&#39;, &#39;od870aer&#39;, &#39;ang4487aer&#39;, &#39;ang4487aer_calc&#39;, &#39;od550aer&#39;]
Last revision: 20190511

Dataset name: AeronetSDAV3Lev2.daily
Data directory: /lustre/storeA/project/aerocom/aerocom1/AEROCOM_OBSDATA/Aeronet.SDA.V3L2.0.daily/renamed
Supported variables: [&#39;od500gt1aer&#39;, &#39;od500lt1aer&#39;, &#39;od500aer&#39;, &#39;ang4487aer&#39;, &#39;od550aer&#39;, &#39;od550gt1aer&#39;, &#39;od550lt1aer&#39;]
Last revision: 20190920
Reading failed for AeronetSDAV3Lev2.AP. Error: NetworkNotImplemented(&#39;No reading class available yet for dataset AeronetSDAV3Lev2.AP&#39;)

Dataset name: AeronetInvV3Lev2.daily
Data directory: /lustre/storeA/project/aerocom/aerocom1/AEROCOM_OBSDATA/Aeronet.Inv.V3L2.0.daily/renamed
Supported variables: [&#39;abs440aer&#39;, &#39;angabs4487aer&#39;, &#39;od440aer&#39;, &#39;ang4487aer&#39;, &#39;abs550aer&#39;, &#39;od550aer&#39;]
Last revision: 20190914
</pre></div></div>
</div>
<p>It found one match and the dataset ID is <em>AeronetSunV3Lev2.daily</em>. It also tells us what variables can be loaded via the interface.</p>
<p><strong>Note</strong>: You can safely ignore all the warnings in the output. These are due to the fact that the testdata set does not contain all observation networks that are available in the AEROCOM database.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">obs_reader</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadUngridded</span><span class="p">(</span><span class="s1">&#39;AeronetSunV3Lev2.daily&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obs_reader</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Dataset name: AeronetSunV3Lev2.daily
Data directory: /lustre/storeA/project/aerocom/aerocom1/AEROCOM_OBSDATA/AeronetSunV3Lev2.0.daily/renamed
Supported variables: [&#39;od340aer&#39;, &#39;od440aer&#39;, &#39;od500aer&#39;, &#39;od870aer&#39;, &#39;ang4487aer&#39;, &#39;ang4487aer_calc&#39;, &#39;od550aer&#39;]
Last revision: 20190920
</pre></div></div>
</div>
<p>Let’s read the data (you can read a single or multiple variables at the same time). For now, we only read the AOD at 550 nm:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">aeronet_data</span> <span class="o">=</span> <span class="n">obs_reader</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">vars_to_retrieve</span><span class="o">=</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">aeronet_data</span><span class="p">)</span> <span class="c1">#displays data type</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.ungriddeddata.UngriddedData
</pre></div></div>
</div>
<p>As you can see, the data object is of type <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code>. Like the <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> object, also the <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> class has an informative string representation (that can be printed):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">aeronet_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Pyaerocom UngriddedData
-----------------------
Contains networks: [&#39;AeronetSunV3Lev2.daily&#39;]
Contains variables: [&#39;od550aer&#39;]
Contains instruments: [&#39;sun_photometer&#39;]
Total no. of meta-blocks: 1230
Filters that were applied:
 Filter time log: 20191002122003
        Created od550aer single var object from multivar UngriddedData instance
</pre></div></div>
</div>
</div>
<div class="section" id="Plot-all-station-coordinates">
<h3>Plot all station coordinates<a class="headerlink" href="#Plot-all-station-coordinates" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">plot_station_coordinates</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_66_0.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_66_0.png" />
</div>
</div>
</div>
<div class="section" id="Access-of-individual-stations">
<h3>Access of individual stations<a class="headerlink" href="#Access-of-individual-stations" title="Permalink to this headline">¶</a></h3>
<p>Get all station names:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">all_station_names</span> <span class="o">=</span> <span class="n">aeronet_data</span><span class="o">.</span><span class="n">unique_station_names</span>
<span class="n">all_station_names</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>  <span class="c1">#displays first 10 stations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;AAOT&#39;,
 &#39;AOE_Baotou&#39;,
 &#39;ARM_Ascension_Is&#39;,
 &#39;ARM_Barnstable_MA&#39;,
 &#39;ARM_Cordoba&#39;,
 &#39;ARM_Darwin&#39;,
 &#39;ARM_Gan_Island&#39;,
 &#39;ARM_Graciosa&#39;,
 &#39;ARM_Highlands_MA&#39;,
 &#39;ARM_HyytialaFinland&#39;]
</pre></div></div>
</div>
<p>For instance, to access the data for the city of Leipzig, Germany, you can use square brackets with the station name of Leipzig:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station_data</span> <span class="o">=</span> <span class="n">aeronet_data</span><span class="p">[</span><span class="s1">&#39;Leipzig&#39;</span><span class="p">]</span> <span class="c1"># this is fully equivalent with aeronet_data.to_station_data(&#39;Leipzig&#39;)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">station_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.stationdata.StationData
</pre></div></div>
</div>
<p>As you can see, the returned object is of type <code class="docutils literal notranslate"><span class="pre">StationData</span></code>, which is one further data format of pyaerocom (note that this is not displayed in the simplified flowchart above). <code class="docutils literal notranslate"><span class="pre">StationData</span></code> may be useful for individual stations and is an extended Python dictionary (if you are familiar with Python).</p>
<p>You may print it to see what is in there:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">station_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Pyaerocom StationData
---------------------
var_info (BrowseDict):
  od550aer (OrderedDict):
    units: 1
    overlap: False
    ts_type: daily
    apply_constraints: False
    min_num_obs: None
station_coords (dict):
  latitude: 51.352500000000006
  longitude: 12.435277999999998
  altitude: 125.0
data_err (BrowseDict): &lt;empty_dict&gt;
overlap (BrowseDict): &lt;empty_dict&gt;
data_flagged (BrowseDict): &lt;empty_dict&gt;
filename: None
station_id: None
station_name: Leipzig
instrument_name: sun_photometer
PI: Brent_Holben
country: None
ts_type: daily
latitude: 51.352500000000006
longitude: 12.435277999999998
altitude: 125.0
data_id: AeronetSunV3Lev2.daily
dataset_name: None
data_product: None
data_version: None
data_level: None
revision_date: None
website: None
ts_type_src: daily
stat_merge_pref_attr: None
data_revision: 20190920

Data arrays
.................
dtime (ndarray, 6363 items): [2001-05-21T00:00:00.000000000, 2001-05-22T00:00:00.000000000, ..., 2018-10-20T00:00:00.000000000, 2018-10-21T00:00:00.000000000]
Pandas Series
.................
od550aer (Series, 6363 items)
</pre></div></div>
</div>
<p>As you can see, this station contains a time-series of the AOD at 550 nm. If you like, you can plot this time-series:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">station_data</span><span class="o">.</span><span class="n">insert_nans_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">station_data</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f2c2061e3c8&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_74_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_74_1.png" />
</div>
</div>
<p>You can also retrieve the <code class="docutils literal notranslate"><span class="pre">StationData</span></code> with specifying more constraints using <code class="docutils literal notranslate"><span class="pre">to_station_data</span></code> (e.g. in monthly resolution and only for the year 2010). And you can overlay different curves, by passing the axes instance returned by the plotting method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span><span class="o">=</span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;Leipzig&#39;</span><span class="p">,</span>
                                <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;daily&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">=</span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;Leipzig&#39;</span><span class="p">,</span>
                                <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Leipzig AODs 2010&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;Leipzig AODs 2010&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_76_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_76_1.png" />
</div>
</div>
</div>
<div class="section" id="You-can-also-plot-the-time-series-directly">
<h3>You can also plot the time-series directly<a class="headerlink" href="#You-can-also-plot-the-time-series-directly" title="Permalink to this headline">¶</a></h3>
<p>For instance, if you want to do an air-quality check for you next bouldering trip, you may call:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ts</span> <span class="o">=</span> <span class="n">aeronet_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;Fontainebleau&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="mi">2006</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;monthly&#39;</span><span class="p">)</span>
<span class="n">ts</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
StationData([(&#39;dtime&#39;,
              array([&#39;2006-01-15T00:00:00.000000000&#39;, &#39;2006-02-15T00:00:00.000000000&#39;,
                     &#39;2006-03-15T00:00:00.000000000&#39;, &#39;2006-04-15T00:00:00.000000000&#39;,
                     &#39;2006-05-15T00:00:00.000000000&#39;, &#39;2006-06-15T00:00:00.000000000&#39;,
                     &#39;2006-07-15T00:00:00.000000000&#39;, &#39;2006-08-15T00:00:00.000000000&#39;,
                     &#39;2006-09-15T00:00:00.000000000&#39;, &#39;2006-10-15T00:00:00.000000000&#39;,
                     &#39;2006-11-15T00:00:00.000000000&#39;, &#39;2006-12-15T00:00:00.000000000&#39;],
                    dtype=&#39;datetime64[ns]&#39;)),
             (&#39;var_info&#39;,
              BrowseDict([(&#39;od550aer&#39;,
                           OrderedDict([(&#39;units&#39;, &#39;1&#39;),
                                        (&#39;overlap&#39;, False),
                                        (&#39;ts_type&#39;, &#39;monthly&#39;),
                                        (&#39;apply_constraints&#39;, True),
                                        (&#39;min_num_obs&#39;,
                                         {&#39;yearly&#39;: {&#39;monthly&#39;: 3},
                                          &#39;monthly&#39;: {&#39;daily&#39;: 7},
                                          &#39;daily&#39;: {&#39;hourly&#39;: 6},
                                          &#39;hourly&#39;: {&#39;minutely&#39;: 15}})]))])),
             (&#39;station_coords&#39;,
              {&#39;latitude&#39;: 48.406666999999985,
               &#39;longitude&#39;: 2.6802780000000004,
               &#39;altitude&#39;: 85.0}),
             (&#39;data_err&#39;, BrowseDict()),
             (&#39;overlap&#39;, BrowseDict()),
             (&#39;data_flagged&#39;, BrowseDict()),
             (&#39;filename&#39;, None),
             (&#39;station_id&#39;, None),
             (&#39;station_name&#39;, &#39;Fontainebleau&#39;),
             (&#39;instrument_name&#39;, &#39;sun_photometer&#39;),
             (&#39;PI&#39;, &#39;Brent_Holben&#39;),
             (&#39;country&#39;, None),
             (&#39;ts_type&#39;, &#39;monthly&#39;),
             (&#39;latitude&#39;, 48.406666999999985),
             (&#39;longitude&#39;, 2.6802780000000004),
             (&#39;altitude&#39;, 85.0),
             (&#39;data_id&#39;, &#39;AeronetSunV3Lev2.daily&#39;),
             (&#39;dataset_name&#39;, None),
             (&#39;data_product&#39;, None),
             (&#39;data_version&#39;, None),
             (&#39;data_level&#39;, None),
             (&#39;revision_date&#39;, None),
             (&#39;website&#39;, None),
             (&#39;ts_type_src&#39;, &#39;daily&#39;),
             (&#39;stat_merge_pref_attr&#39;, None),
             (&#39;data_revision&#39;, &#39;20190920&#39;),
             (&#39;od550aer&#39;, 2006-01-15    0.176742
              2006-02-15         NaN
              2006-03-15    0.252403
              2006-04-15    0.195318
              2006-05-15    0.215357
              2006-06-15    0.195586
              2006-07-15    0.224991
              2006-08-15    0.131814
              2006-09-15    0.151338
              2006-10-15    0.141222
              2006-11-15    0.088815
              2006-12-15         NaN
              Name: mean, dtype: float64)])
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">plot_station_timeseries</span><span class="p">(</span><span class="s1">&#39;Fontainebleau&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                     <span class="n">start</span><span class="o">=</span><span class="mi">2006</span><span class="p">)</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;AOD in Fontainebleau, 2006&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;AOD in Fontainebleau, 2006&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_79_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_79_1.png" />
</div>
</div>
<p>Seems like November is a good time (maybe a bit rainy though)</p>
</div>
</div>
<div class="section" id="Colocation-of-model-and-obsdata">
<h2>Colocation of model and obsdata<a class="headerlink" href="#Colocation-of-model-and-obsdata" title="Permalink to this headline">¶</a></h2>
<p>Now that we have different data objects loaded we can continue with colocation. In the following, both the all-sky and the clear-sky data from CAM53-Oslo will be colocated with the subset of Aeronet stations that we just loaded.</p>
<p>The colocation will be performed for the year of 2010 and two scatter plots will be created.</p>
<p>You have also the option to apply a certain filter when colocating using a valid filter name. Here, we use global data and exclude mountain sides.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">col_all_sky_glob</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">od550aer</span><span class="p">,</span> <span class="n">aeronet_data</span><span class="p">,</span>
                                                                <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                                                <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                                                <span class="n">filter_name</span><span class="o">=</span><span class="s1">&#39;WORLD-noMOUNTAINS&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">col_all_sky_glob</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Setting od550aer outlier lower lim: -1.00
Setting od550aer outlier upper lim: 10.00
Interpolating data of shape (12, 192, 288). This may take a while.
Successfully interpolated cube
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.colocateddata.ColocatedData
</pre></div></div>
</div>
<p>Let’s do the same for the clear-sky data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">col_clear_sky_glob</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">od550csaer</span><span class="p">,</span> <span class="n">aeronet_data</span><span class="p">,</span>
                                                                  <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                                                  <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                                                  <span class="n">filter_name</span><span class="o">=</span><span class="s1">&#39;WORLD-noMOUNTAINS&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">col_clear_sky_glob</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Setting od550aer outlier lower lim: -1.00
Setting od550aer outlier upper lim: 10.00
Interpolating data of shape (12, 192, 288). This may take a while.
Successfully interpolated cube
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyaerocom.colocateddata.ColocatedData
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax1</span> <span class="o">=</span> <span class="n">col_all_sky_glob</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;All sky (2010, monthly)&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_86_0.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_86_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax2</span> <span class="o">=</span> <span class="n">col_clear_sky_glob</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">()</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Clear sky (2010, monthly)&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_87_0.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_87_0.png" />
</div>
</div>
<p>… or for EUROPE:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">od550aer</span><span class="p">,</span> <span class="n">aeronet_data</span><span class="p">,</span>
                                          <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                          <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                          <span class="n">filter_name</span><span class="o">=</span><span class="s1">&#39;EUROPE-noMOUNTAINS&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Setting od550aer outlier lower lim: -1.00
Setting od550aer outlier upper lim: 10.00
Interpolating data of shape (12, 192, 288). This may take a while.
Successfully interpolated cube
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_89_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_89_1.png" />
</div>
</div>
<div class="section" id="Colocation-with-satellite-AODs-from-MODIS">
<h3>Colocation with satellite AODs from MODIS<a class="headerlink" href="#Colocation-with-satellite-AODs-from-MODIS" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">sat_data</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadGridded</span><span class="p">(</span><span class="s1">&#39;MODIS6.aqua&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read_var</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">)</span>
<span class="n">sat_data</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="n">vmin</span><span class="o">=.</span><span class="mi">001</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">c_under</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Overwriting unit unknown in cube od550aer with value &#34;1&#34;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_91_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_91_1.png" />
</div>
</div>
<p>Colocation is straight forward as shown below. The data will be regridded to 5x5 degrees resolution during the colocation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">col_modis_monthly</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_gridded</span><span class="p">(</span><span class="n">gridded_data</span><span class="o">=</span><span class="n">od550aer</span><span class="p">,</span>
                                                            <span class="n">gridded_data_ref</span><span class="o">=</span><span class="n">sat_data</span><span class="p">,</span>
                                                            <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                                            <span class="n">regrid_res_deg</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                                            <span class="n">remove_outliers</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                            <span class="n">harmonise_units</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Interpolating data of shape (365, 180, 360). This may take a while.
Successfully interpolated cube
Setting od550aer outlier lower lim: -1.00
Setting od550aer outlier upper lim: 10.00
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">col_modis_monthly</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f2c1049a198&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_94_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_94_1.png" />
</div>
</div>
<p>You may also change the plot style, to adapt better to the large amount of data points here in these satellite products:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">col_modis_monthly</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f2c10614908&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_96_1.png" src="../../_images/pyaerocom-tutorials_obsolete_tut00_get_started_96_1.png" />
</div>
</div>
</div>
<div class="section" id="Remark-on-the-ColocatedData-object">
<h3>Remark on the ColocatedData object<a class="headerlink" href="#Remark-on-the-ColocatedData-object" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ColocatedData</span></code> object has not many features and methods implemented yet. But it builds a good basis for further analysis using features of the underlying data-structure, which is an instance of the <a class="reference external" href="http://xarray.pydata.org/en/stable/generated/xarray.DataArray.html">xarray.DataArray</a> class and can be accessed via the <code class="docutils literal notranslate"><span class="pre">data</span></code> attribute if the <code class="docutils literal notranslate"><span class="pre">ColocatedData</span></code> object:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">col_all_sky_glob</span><span class="o">.</span><span class="n">data</span>
<span class="nb">type</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
xarray.core.dataarray.DataArray
</pre></div></div>
</div>
<p>You may want to read more about it <a class="reference external" href="http://xarray.pydata.org/en/stable/data-structures.html">here</a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tut01_intro_regions.html" class="btn btn-neutral float-right" title="AEROCOM default regions (class Region)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../getting_started_analysis.html" class="btn btn-neutral float-left" title="Getting started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MET Norway

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>