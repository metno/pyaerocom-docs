

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started &mdash; pyaerocom  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pyaerocom  documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pyaerocom
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">NEWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#about">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#aerocom">AeroCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#website-and-code-documentation">Website and code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#requirements">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#installation-of-pyaerocom">Installation of pyaerocom</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#access-to-users-database">Access to users database</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#getting-started">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_testsuite.html">Tests (for developers)</a></li>
<li class="toctree-l1"><a class="reference internal" href="config_files.html">Configuration files</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyaerocom</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tut00_get_started.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>This notebook is meant to give a quick introduction into the main
features and workflows of
<a class="reference external" href="http://aerocom.met.no/pyaerocom/">pyaerocom</a>.</p>
<p>This includes brief introductions into the following features:</p>
<ul class="simple">
<li>Finding model and observation data on the AeroCom servers (method
<code class="docutils literal notranslate"><span class="pre">browse_database</span></code>).</li>
<li>Reading of <strong>gridded</strong> model data (<code class="docutils literal notranslate"><span class="pre">ReadGridded</span></code> class).</li>
<li>Reading of <strong>ungridded</strong> observation data (<code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> class).</li>
<li>Working with <strong>gridded</strong> data (<code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class).</li>
<li>Working with <strong>ungridded</strong> data (<code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> class).</li>
<li>Retrieving and working with data from individual stations
(<code class="docutils literal notranslate"><span class="pre">StationData</span></code> class).</li>
<li><strong>Colocation</strong> of model data with all stations from an observation
network.</li>
</ul>
<p>It ends with a colocation of CAM53-Oslo model AODs both all-sky and
clear-sky with Aeronet Sun V3 level 2 data.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>In order to run this notebook, you need to be connected to the
AeroCom post processing servers (PPI).</li>
<li>If you have PPI (/lustre/) mounted on your local machine you need to
update the basic data directory after importing pyaerocom as follows:
<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pyaerocom</span> <span class="pre">as</span> <span class="pre">pya</span>&#160; <span class="pre">pya.const.BASEDIR</span> <span class="pre">=</span> <span class="pre">&lt;path_where_lustre_is_mounted&gt;</span></code></li>
</ul>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyaerocom</span> <span class="k">as</span> <span class="nn">pya</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initating</span> <span class="n">pyaerocom</span> <span class="n">configuration</span>
<span class="n">Checking</span> <span class="n">database</span> <span class="n">access</span><span class="o">...</span>
<span class="n">Checking</span> <span class="n">access</span> <span class="n">to</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span>
<span class="n">Access</span> <span class="n">to</span> <span class="n">lustre</span> <span class="n">database</span><span class="p">:</span> <span class="kc">True</span>
<span class="n">Init</span> <span class="n">data</span> <span class="n">paths</span> <span class="k">for</span> <span class="n">lustre</span>
<span class="n">Expired</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.062</span> <span class="n">s</span>
</pre></div>
</div>
<div class="section" id="check-data-directory">
<h3>Check data directory<a class="headerlink" href="#check-data-directory" title="Permalink to this headline">¶</a></h3>
<p>By default, pyaerocom assumes that the AEROCOM database can be accessed
(cf.&nbsp;top of flowchart), that is, it initiates all data query paths
relative to the database server path names.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">BASEDIR</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/lustre/storeA/project/aerocom&#39;</span>
</pre></div>
</div>
<p><strong>NOTE</strong>: Execution of the following lines will only work if you are
connected to the AEROCOM data server or if you have access to the
pyaerocom testdataset. The latter can be retrieved upon request (please
contact <a class="reference external" href="mailto:jonasg&#37;&#52;&#48;met&#46;no">jonasg<span>&#64;</span>met<span>&#46;</span>no</a>).</p>
</div>
</div>
<div class="section" id="reading-of-and-working-with-gridded-model-data-readgridded-and-griddeddata-classes">
<h2>Reading of and working with <em>gridded</em> model data (<code class="docutils literal notranslate"><span class="pre">ReadGridded</span></code> and <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> classes)<a class="headerlink" href="#reading-of-and-working-with-gridded-model-data-readgridded-and-griddeddata-classes" title="Permalink to this headline">¶</a></h2>
<p>This section illustrates the reading of gridded data as well as some
features of the <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class of <em>pyaerocom</em>. First, however, we
have to find a valid model ID for the reading (cf.&nbsp;flow chart).</p>
<div class="section" id="find-model-data">
<h3>Find model data<a class="headerlink" href="#find-model-data" title="Permalink to this headline">¶</a></h3>
<p>The database contains data from the CAM53-Oslo model, which is used in
the following. You can use the <code class="docutils literal notranslate"><span class="pre">browse_database</span></code> function of pyaerocom
to find model ID’s (which can be quite cryptic sometimes) using wildcard
pattern search.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;CAM53*-Oslo*UNTUNED*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pyaerocom</span> <span class="n">ReadGridded</span>
<span class="o">---------------------</span>
<span class="n">Model</span> <span class="n">ID</span><span class="p">:</span> <span class="n">CAM53</span><span class="o">-</span><span class="n">Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PI_UNTUNED</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom2</span><span class="o">/</span><span class="n">NorESM_SVN_TEST</span><span class="o">/</span><span class="n">CAM53</span><span class="o">-</span><span class="n">Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PI_UNTUNED</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Available</span> <span class="n">experiments</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PI_UNTUNED&#39;</span><span class="p">]</span>
<span class="n">Available</span> <span class="n">years</span><span class="p">:</span> <span class="p">[</span><span class="mi">9999</span><span class="p">]</span>
<span class="n">Available</span> <span class="n">frequencies</span> <span class="p">[</span><span class="s1">&#39;monthly&#39;</span><span class="p">]</span>
<span class="n">Available</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;abs440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs440aercs&#39;</span><span class="p">,</span> <span class="s1">&#39;abs500aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs5503Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550bc&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550dryaer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550dust&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550oa&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550so4&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550ss&#39;</span><span class="p">,</span> <span class="s1">&#39;abs670aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;airmass&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="s1">&#39;asy3Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;bc5503Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;cheaqpso4&#39;</span><span class="p">,</span> <span class="s1">&#39;chegpso4&#39;</span><span class="p">,</span> <span class="s1">&#39;chepso2&#39;</span><span class="p">,</span> <span class="s1">&#39;cl3D&#39;</span><span class="p">,</span> <span class="s1">&#39;clt&#39;</span><span class="p">,</span> <span class="s1">&#39;drybc&#39;</span><span class="p">,</span> <span class="s1">&#39;drydms&#39;</span><span class="p">,</span> <span class="s1">&#39;drydust&#39;</span><span class="p">,</span> <span class="s1">&#39;dryoa&#39;</span><span class="p">,</span> <span class="s1">&#39;dryso2&#39;</span><span class="p">,</span> <span class="s1">&#39;dryso4&#39;</span><span class="p">,</span> <span class="s1">&#39;dryss&#39;</span><span class="p">,</span> <span class="s1">&#39;ec5503Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;ec550dryaer&#39;</span><span class="p">,</span> <span class="s1">&#39;emibc&#39;</span><span class="p">,</span> <span class="s1">&#39;emidms&#39;</span><span class="p">,</span> <span class="s1">&#39;emidust&#39;</span><span class="p">,</span> <span class="s1">&#39;emioa&#39;</span><span class="p">,</span> <span class="s1">&#39;emiso2&#39;</span><span class="p">,</span> <span class="s1">&#39;emiso4&#39;</span><span class="p">,</span> <span class="s1">&#39;emiss&#39;</span><span class="p">,</span> <span class="s1">&#39;hus&#39;</span><span class="p">,</span> <span class="s1">&#39;landf&#39;</span><span class="p">,</span> <span class="s1">&#39;loadbc&#39;</span><span class="p">,</span> <span class="s1">&#39;loaddms&#39;</span><span class="p">,</span> <span class="s1">&#39;loaddust&#39;</span><span class="p">,</span> <span class="s1">&#39;loadoa&#39;</span><span class="p">,</span> <span class="s1">&#39;loadso2&#39;</span><span class="p">,</span> <span class="s1">&#39;loadso4&#39;</span><span class="p">,</span> <span class="s1">&#39;loadss&#39;</span><span class="p">,</span> <span class="s1">&#39;mmraerh2o&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrbc&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrdu&#39;</span><span class="p">,</span> <span class="s1">&#39;mmroa&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrso4&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrss&#39;</span><span class="p">,</span> <span class="s1">&#39;od440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od440csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aerh2o&#39;</span><span class="p">,</span> <span class="s1">&#39;od550bc&#39;</span><span class="p">,</span> <span class="s1">&#39;od550csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550dust&#39;</span><span class="p">,</span> <span class="s1">&#39;od550lt1aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550lt1dust&#39;</span><span class="p">,</span> <span class="s1">&#39;od550oa&#39;</span><span class="p">,</span> <span class="s1">&#39;od550so4&#39;</span><span class="p">,</span> <span class="s1">&#39;od550ss&#39;</span><span class="p">,</span> <span class="s1">&#39;od670aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;orog&#39;</span><span class="p">,</span> <span class="s1">&#39;precip&#39;</span><span class="p">,</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;ps&#39;</span><span class="p">,</span> <span class="s1">&#39;rlds&#39;</span><span class="p">,</span> <span class="s1">&#39;rlus&#39;</span><span class="p">,</span> <span class="s1">&#39;rlut&#39;</span><span class="p">,</span> <span class="s1">&#39;rlutcs&#39;</span><span class="p">,</span> <span class="s1">&#39;rsds&#39;</span><span class="p">,</span> <span class="s1">&#39;rsdscs&#39;</span><span class="p">,</span> <span class="s1">&#39;rsdt&#39;</span><span class="p">,</span> <span class="s1">&#39;rsus&#39;</span><span class="p">,</span> <span class="s1">&#39;rsut&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcbc&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcdms&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcdust&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcoa&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcso2&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcso4&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcss&#39;</span><span class="p">,</span> <span class="s1">&#39;temp&#39;</span><span class="p">,</span> <span class="s1">&#39;vmrdms&#39;</span><span class="p">,</span> <span class="s1">&#39;vmrso2&#39;</span><span class="p">,</span> <span class="s1">&#39;wetbc&#39;</span><span class="p">,</span> <span class="s1">&#39;wetdms&#39;</span><span class="p">,</span> <span class="s1">&#39;wetdust&#39;</span><span class="p">,</span> <span class="s1">&#39;wetoa&#39;</span><span class="p">,</span> <span class="s1">&#39;wetso2&#39;</span><span class="p">,</span> <span class="s1">&#39;wetso4&#39;</span><span class="p">,</span> <span class="s1">&#39;wetss&#39;</span><span class="p">]</span>

<span class="n">Pyaerocom</span> <span class="n">ReadGridded</span>
<span class="o">---------------------</span>
<span class="n">Model</span> <span class="n">ID</span><span class="p">:</span> <span class="n">CAM53</span><span class="o">-</span><span class="n">Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom2</span><span class="o">/</span><span class="n">NorESM_SVN_TEST</span><span class="o">/</span><span class="n">CAM53</span><span class="o">-</span><span class="n">Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Available</span> <span class="n">experiments</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED&#39;</span><span class="p">]</span>
<span class="n">Available</span> <span class="n">years</span><span class="p">:</span> <span class="p">[</span><span class="mi">2004</span><span class="p">,</span> <span class="mi">2005</span><span class="p">,</span> <span class="mi">2006</span><span class="p">,</span> <span class="mi">2007</span><span class="p">,</span> <span class="mi">2008</span><span class="p">,</span> <span class="mi">2009</span><span class="p">,</span> <span class="mi">2010</span><span class="p">,</span> <span class="mi">9999</span><span class="p">]</span>
<span class="n">Available</span> <span class="n">frequencies</span> <span class="p">[</span><span class="s1">&#39;monthly&#39;</span><span class="p">]</span>
<span class="n">Available</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;abs440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs440aercs&#39;</span><span class="p">,</span> <span class="s1">&#39;abs500aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs5503Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550aercs&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550bc&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550dryaer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550dust&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550oa&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550so4&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550ss&#39;</span><span class="p">,</span> <span class="s1">&#39;abs670aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;airmass&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="s1">&#39;asy3Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;bc5503Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;cheaqpso4&#39;</span><span class="p">,</span> <span class="s1">&#39;chegpso4&#39;</span><span class="p">,</span> <span class="s1">&#39;chepso2&#39;</span><span class="p">,</span> <span class="s1">&#39;cl3D&#39;</span><span class="p">,</span> <span class="s1">&#39;clt&#39;</span><span class="p">,</span> <span class="s1">&#39;drybc&#39;</span><span class="p">,</span> <span class="s1">&#39;drydms&#39;</span><span class="p">,</span> <span class="s1">&#39;drydust&#39;</span><span class="p">,</span> <span class="s1">&#39;dryoa&#39;</span><span class="p">,</span> <span class="s1">&#39;dryso2&#39;</span><span class="p">,</span> <span class="s1">&#39;dryso4&#39;</span><span class="p">,</span> <span class="s1">&#39;dryss&#39;</span><span class="p">,</span> <span class="s1">&#39;ec5503Daer&#39;</span><span class="p">,</span> <span class="s1">&#39;ec550dryaer&#39;</span><span class="p">,</span> <span class="s1">&#39;emibc&#39;</span><span class="p">,</span> <span class="s1">&#39;emidms&#39;</span><span class="p">,</span> <span class="s1">&#39;emidust&#39;</span><span class="p">,</span> <span class="s1">&#39;emioa&#39;</span><span class="p">,</span> <span class="s1">&#39;emiso2&#39;</span><span class="p">,</span> <span class="s1">&#39;emiso4&#39;</span><span class="p">,</span> <span class="s1">&#39;emiss&#39;</span><span class="p">,</span> <span class="s1">&#39;hus&#39;</span><span class="p">,</span> <span class="s1">&#39;landf&#39;</span><span class="p">,</span> <span class="s1">&#39;loadbc&#39;</span><span class="p">,</span> <span class="s1">&#39;loaddms&#39;</span><span class="p">,</span> <span class="s1">&#39;loaddust&#39;</span><span class="p">,</span> <span class="s1">&#39;loadoa&#39;</span><span class="p">,</span> <span class="s1">&#39;loadso2&#39;</span><span class="p">,</span> <span class="s1">&#39;loadso4&#39;</span><span class="p">,</span> <span class="s1">&#39;loadss&#39;</span><span class="p">,</span> <span class="s1">&#39;mmraerh2o&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrbc&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrdu&#39;</span><span class="p">,</span> <span class="s1">&#39;mmroa&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrso4&#39;</span><span class="p">,</span> <span class="s1">&#39;mmrss&#39;</span><span class="p">,</span> <span class="s1">&#39;od440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od440csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aerh2o&#39;</span><span class="p">,</span> <span class="s1">&#39;od550bc&#39;</span><span class="p">,</span> <span class="s1">&#39;od550csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550dust&#39;</span><span class="p">,</span> <span class="s1">&#39;od550lt1aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550lt1dust&#39;</span><span class="p">,</span> <span class="s1">&#39;od550oa&#39;</span><span class="p">,</span> <span class="s1">&#39;od550so4&#39;</span><span class="p">,</span> <span class="s1">&#39;od550ss&#39;</span><span class="p">,</span> <span class="s1">&#39;od670aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870csaer&#39;</span><span class="p">,</span> <span class="s1">&#39;orog&#39;</span><span class="p">,</span> <span class="s1">&#39;precip&#39;</span><span class="p">,</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;ps&#39;</span><span class="p">,</span> <span class="s1">&#39;rlds&#39;</span><span class="p">,</span> <span class="s1">&#39;rlus&#39;</span><span class="p">,</span> <span class="s1">&#39;rlut&#39;</span><span class="p">,</span> <span class="s1">&#39;rlutcs&#39;</span><span class="p">,</span> <span class="s1">&#39;rsds&#39;</span><span class="p">,</span> <span class="s1">&#39;rsdscs&#39;</span><span class="p">,</span> <span class="s1">&#39;rsdt&#39;</span><span class="p">,</span> <span class="s1">&#39;rsus&#39;</span><span class="p">,</span> <span class="s1">&#39;rsut&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcbc&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcdms&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcdust&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcoa&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcso2&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcso4&#39;</span><span class="p">,</span> <span class="s1">&#39;sconcss&#39;</span><span class="p">,</span> <span class="s1">&#39;temp&#39;</span><span class="p">,</span> <span class="s1">&#39;vmrdms&#39;</span><span class="p">,</span> <span class="s1">&#39;vmrso2&#39;</span><span class="p">,</span> <span class="s1">&#39;wetbc&#39;</span><span class="p">,</span> <span class="s1">&#39;wetdms&#39;</span><span class="p">,</span> <span class="s1">&#39;wetdust&#39;</span><span class="p">,</span> <span class="s1">&#39;wetoa&#39;</span><span class="p">,</span> <span class="s1">&#39;wetso2&#39;</span><span class="p">,</span> <span class="s1">&#39;wetso4&#39;</span><span class="p">,</span> <span class="s1">&#39;wetss&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="read-aerosol-optical-depth-at-550-nm">
<h3>Read Aerosol optical depth at 550 nm<a class="headerlink" href="#read-aerosol-optical-depth-at-550-nm" title="Permalink to this headline">¶</a></h3>
<p>Import both clear-sky (<em>cs</em> in variable name) and all-sky data.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadGridded</span><span class="p">(</span><span class="s1">&#39;CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED&#39;</span><span class="p">)</span>
<span class="n">od550aer</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_var</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>
<span class="n">od550csaer</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_var</span><span class="p">(</span><span class="s1">&#39;od550csaer&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Both data objects are instances of class
<a class="reference external" href="http://aerocom.met.no/pyaerocom/api.html#module-pyaerocom.griddeddata">GriddedData</a>
which is based on the
<a class="reference external" href="https://scitools.org.uk/iris/docs/v1.9.0/html/iris/iris/cube.html#iris.cube.Cube">Cube</a>
class (<a class="reference external" href="https://scitools.org.uk/iris/docs/v1.9.0/html/index.html">iris
library</a>)
and features very similar functionality and more.</p>
<p>Some of these features are introduced below.</p>
</div>
<div class="section" id="overview-of-what-is-in-the-data">
<h3>Overview of what is in the data<a class="headerlink" href="#overview-of-what-is-in-the-data" title="Permalink to this headline">¶</a></h3>
<p>Simply print the object.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">od550aer</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pyaerocom.GriddedData: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
Grid data: Aerosol optical depth at 500nm / (1) (time: 84; latitude: 192; longitude: 288)
     Dimension coordinates:
          time                            x             -               -
          latitude                        -             x               -
          longitude                       -             -               x
     Attributes:
          Conventions: CF-1.0
          NCO: 4.3.7
          Version: $Name$
          case: 53OSLO_PD_UNTUNED
          history: Thu Feb  9 11:05:21 2017: ncatted -O -a units,od550aer,o,c,1 /projects/NS2345K/CAM-Oslo/DO_AEROCOM/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed/aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED_od550aer_Column_2004_monthly.nc
Thu...
          host: hexagon-2
          initial_file: /work/shared/noresm/inputdata/atm/cam/inic/fv/cami-mam3_0000-01-01_0.9...
          logname: ihkarset
          nco_openmp_thread_number: 1
          revision_Id: $Id$
          source: CAM
          title: UNSET
          topography_file: /work/shared/noresm/inputdata/noresm-only/inputForNudging/ERA_f09f09_3...
     Cell methods:
          mean: time
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">od550csaer</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pyaerocom.GriddedData: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
Grid data: Clear air Aerosol optical depth at 550nm / (1) (time: 84; latitude: 192; longitude: 288)
     Dimension coordinates:
          time                                      x             -               -
          latitude                                  -             x               -
          longitude                                 -             -               x
     Attributes:
          Conventions: CF-1.0
          NCO: 4.3.7
          Version: $Name$
          case: 53OSLO_PD_UNTUNED
          history: Thu Feb  9 11:05:16 2017: ncatted -O -a units,od550csaer,o,c,1 /projects/NS2345K/CAM-Oslo/DO_AEROCOM/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed/aerocom3_CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED_od550csaer_Column_2004_monthly.nc
Thu...
          host: hexagon-2
          initial_file: /work/shared/noresm/inputdata/atm/cam/inic/fv/cami-mam3_0000-01-01_0.9...
          logname: ihkarset
          nco_openmp_thread_number: 1
          revision_Id: $Id$
          source: CAM
          title: UNSET
          topography_file: /work/shared/noresm/inputdata/noresm-only/inputForNudging/ERA_f09f09_3...
     Cell methods:
          mean: time
</pre></div>
</div>
</div>
<div class="section" id="access-time-stamps">
<h3>Access time stamps<a class="headerlink" href="#access-time-stamps" title="Permalink to this headline">¶</a></h3>
<p>Time stamps are represented as numerical values with respect to a
reference date and frequency, according to the CF conventions. They can
be accessed via the <code class="docutils literal notranslate"><span class="pre">time</span></code> attribute of the data class.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer</span><span class="o">.</span><span class="n">time</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DimCoord</span><span class="p">(</span><span class="n">array</span><span class="p">([</span>   <span class="mf">0.</span><span class="p">,</span>   <span class="mf">31.</span><span class="p">,</span>   <span class="mf">60.</span><span class="p">,</span>   <span class="mf">91.</span><span class="p">,</span>  <span class="mf">121.</span><span class="p">,</span>  <span class="mf">152.</span><span class="p">,</span>  <span class="mf">182.</span><span class="p">,</span>  <span class="mf">213.</span><span class="p">,</span>  <span class="mf">244.</span><span class="p">,</span>
        <span class="mf">274.</span><span class="p">,</span>  <span class="mf">305.</span><span class="p">,</span>  <span class="mf">335.</span><span class="p">,</span>  <span class="mf">366.</span><span class="p">,</span>  <span class="mf">397.</span><span class="p">,</span>  <span class="mf">425.</span><span class="p">,</span>  <span class="mf">456.</span><span class="p">,</span>  <span class="mf">486.</span><span class="p">,</span>  <span class="mf">517.</span><span class="p">,</span>
        <span class="mf">547.</span><span class="p">,</span>  <span class="mf">578.</span><span class="p">,</span>  <span class="mf">609.</span><span class="p">,</span>  <span class="mf">639.</span><span class="p">,</span>  <span class="mf">670.</span><span class="p">,</span>  <span class="mf">700.</span><span class="p">,</span>  <span class="mf">731.</span><span class="p">,</span>  <span class="mf">762.</span><span class="p">,</span>  <span class="mf">790.</span><span class="p">,</span>
        <span class="mf">821.</span><span class="p">,</span>  <span class="mf">851.</span><span class="p">,</span>  <span class="mf">882.</span><span class="p">,</span>  <span class="mf">912.</span><span class="p">,</span>  <span class="mf">943.</span><span class="p">,</span>  <span class="mf">974.</span><span class="p">,</span> <span class="mf">1004.</span><span class="p">,</span> <span class="mf">1035.</span><span class="p">,</span> <span class="mf">1065.</span><span class="p">,</span>
       <span class="mf">1096.</span><span class="p">,</span> <span class="mf">1127.</span><span class="p">,</span> <span class="mf">1155.</span><span class="p">,</span> <span class="mf">1186.</span><span class="p">,</span> <span class="mf">1216.</span><span class="p">,</span> <span class="mf">1247.</span><span class="p">,</span> <span class="mf">1277.</span><span class="p">,</span> <span class="mf">1308.</span><span class="p">,</span> <span class="mf">1339.</span><span class="p">,</span>
       <span class="mf">1369.</span><span class="p">,</span> <span class="mf">1400.</span><span class="p">,</span> <span class="mf">1430.</span><span class="p">,</span> <span class="mf">1461.</span><span class="p">,</span> <span class="mf">1492.</span><span class="p">,</span> <span class="mf">1521.</span><span class="p">,</span> <span class="mf">1552.</span><span class="p">,</span> <span class="mf">1582.</span><span class="p">,</span> <span class="mf">1613.</span><span class="p">,</span>
       <span class="mf">1643.</span><span class="p">,</span> <span class="mf">1674.</span><span class="p">,</span> <span class="mf">1705.</span><span class="p">,</span> <span class="mf">1735.</span><span class="p">,</span> <span class="mf">1766.</span><span class="p">,</span> <span class="mf">1796.</span><span class="p">,</span> <span class="mf">1827.</span><span class="p">,</span> <span class="mf">1858.</span><span class="p">,</span> <span class="mf">1886.</span><span class="p">,</span>
       <span class="mf">1917.</span><span class="p">,</span> <span class="mf">1947.</span><span class="p">,</span> <span class="mf">1978.</span><span class="p">,</span> <span class="mf">2008.</span><span class="p">,</span> <span class="mf">2039.</span><span class="p">,</span> <span class="mf">2070.</span><span class="p">,</span> <span class="mf">2100.</span><span class="p">,</span> <span class="mf">2131.</span><span class="p">,</span> <span class="mf">2161.</span><span class="p">,</span>
       <span class="mf">2192.</span><span class="p">,</span> <span class="mf">2223.</span><span class="p">,</span> <span class="mf">2251.</span><span class="p">,</span> <span class="mf">2282.</span><span class="p">,</span> <span class="mf">2312.</span><span class="p">,</span> <span class="mf">2343.</span><span class="p">,</span> <span class="mf">2373.</span><span class="p">,</span> <span class="mf">2404.</span><span class="p">,</span> <span class="mf">2435.</span><span class="p">,</span>
       <span class="mf">2465.</span><span class="p">,</span> <span class="mf">2496.</span><span class="p">,</span> <span class="mf">2526.</span><span class="p">]),</span> <span class="n">standard_name</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="n">Unit</span><span class="p">(</span><span class="s1">&#39;days since 2004-01-01 00:00:00&#39;</span><span class="p">,</span> <span class="n">calendar</span><span class="o">=</span><span class="s1">&#39;gregorian&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>You may also want the time-stamps in the form of actual datetime-like
objects. These can be computed using the <code class="docutils literal notranslate"><span class="pre">time_stamps()</span></code> method:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer</span><span class="o">.</span><span class="n">time_stamps</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;2004-01-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2004-02-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2004-03-01T00:00:00.000000&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[us]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="plotting-maps">
<h3>Plotting maps<a class="headerlink" href="#plotting-maps" title="Permalink to this headline">¶</a></h3>
<p>Maps of individual time stamps can be plotted using the quickplot_map
method.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig1</span> <span class="o">=</span> <span class="n">od550aer</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
<span class="n">fig2</span> <span class="o">=</span> <span class="n">od550csaer</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_20_0.png" src="_images/tut00_get_started_20_0.png" />
<img alt="_images/tut00_get_started_20_1.png" src="_images/tut00_get_started_20_1.png" />
</div>
<div class="section" id="filtering">
<h3>Filtering<a class="headerlink" href="#filtering" title="Permalink to this headline">¶</a></h3>
<p>Regional filtering can be performed using the
<a class="reference external" href="http://aerocom.met.no/pyaerocom/api.html#module-pyaerocom.filter">Filter</a>
class (cf.&nbsp;flowchart above).</p>
<p>An overview of available default regions can be accessed via:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pya</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">get_all_default_region_ids</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;WORLD&#39;</span><span class="p">,</span> <span class="s1">&#39;EUROPE&#39;</span><span class="p">,</span> <span class="s1">&#39;ASIA&#39;</span><span class="p">,</span> <span class="s1">&#39;AUSTRALIA&#39;</span><span class="p">,</span> <span class="s1">&#39;CHINA&#39;</span><span class="p">,</span> <span class="s1">&#39;INDIA&#39;</span><span class="p">,</span> <span class="s1">&#39;NAFRICA&#39;</span><span class="p">,</span> <span class="s1">&#39;SAFRICA&#39;</span><span class="p">,</span> <span class="s1">&#39;SAMERICA&#39;</span><span class="p">,</span> <span class="s1">&#39;NAMERICA&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Now let’s go for north Africa. Create instance of Filter class:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span><span class="s1">&#39;NAFRICA&#39;</span><span class="p">)</span>
<span class="n">f</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Filter</span><span class="p">([(</span><span class="s1">&#39;_name&#39;</span><span class="p">,</span> <span class="s1">&#39;NAFRICA-wMOUNTAINS&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;_region&#39;</span><span class="p">,</span>
         <span class="n">Region</span> <span class="n">NAFRICA</span> <span class="n">Region</span><span class="p">([(</span><span class="s1">&#39;_name&#39;</span><span class="p">,</span> <span class="s1">&#39;NAFRICA&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;lon_range&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;lat_range&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;lon_range_plot&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;lat_range_plot&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;lon_ticks&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;lat_ticks&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])),</span>
        <span class="p">(</span><span class="s1">&#39;lon_range&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span>
        <span class="p">(</span><span class="s1">&#39;lat_range&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">]),</span>
        <span class="p">(</span><span class="s1">&#39;alt_range&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])</span>
</pre></div>
</div>
<p>… and apply to the two data objects (this can be done by calling the
filter with the corresponding data class as input parameter):</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer_nafrica</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">od550aer</span><span class="p">)</span>
<span class="n">od550csaer_nafrica</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">od550csaer</span><span class="p">)</span>
</pre></div>
</div>
<p>Compare shapes:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer_nafrica</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyaerocom</span><span class="o">.</span><span class="n">GriddedData</span>
<span class="n">Grid</span> <span class="n">data</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">iris</span> <span class="s1">&#39;Cube&#39;</span> <span class="n">of</span> <span class="n">Aerosol</span> <span class="n">optical</span> <span class="n">depth</span> <span class="n">at</span> <span class="mi">500</span><span class="n">nm</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">84</span><span class="p">;</span> <span class="n">latitude</span><span class="p">:</span> <span class="mi">42</span><span class="p">;</span> <span class="n">longitude</span><span class="p">:</span> <span class="mi">57</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyaerocom</span><span class="o">.</span><span class="n">GriddedData</span>
<span class="n">Grid</span> <span class="n">data</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">iris</span> <span class="s1">&#39;Cube&#39;</span> <span class="n">of</span> <span class="n">Aerosol</span> <span class="n">optical</span> <span class="n">depth</span> <span class="n">at</span> <span class="mi">500</span><span class="n">nm</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">84</span><span class="p">;</span> <span class="n">latitude</span><span class="p">:</span> <span class="mi">192</span><span class="p">;</span> <span class="n">longitude</span><span class="p">:</span> <span class="mi">288</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>As you can see, the filtered object is reduced in the longitude and
latitude dimension. Let’s plot the two new objects:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax1</span> <span class="o">=</span> <span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">od550csaer_nafrica</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009-3-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_31_0.png" src="_images/tut00_get_started_31_0.png" />
<img alt="_images/tut00_get_started_31_1.png" src="_images/tut00_get_started_31_1.png" />
</div>
<div class="section" id="filtering-of-time">
<h3>Filtering of time<a class="headerlink" href="#filtering-of-time" title="Permalink to this headline">¶</a></h3>
<p>Filtering of time is not yet included in the Filter class but can be
easily performed from the <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> object directly. If you know
the indices of the time stamps you want to crop, you can simply use
numpy indexing syntax (remember that we have a 3D array containing time,
latitude and lonfgitude).</p>
<p>Let’s say we want to filter the <strong>year 2009</strong>.</p>
<p>Since the time dimension corresponds the first index in the 3D data
(time, lat, lon), and since we know, that we have monthly data from
2008-2010 (see above), we may use</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer_nafrica_2009</span> <span class="o">=</span> <span class="n">od550aer_nafrica</span><span class="p">[</span><span class="mi">12</span><span class="p">:</span><span class="mi">24</span><span class="p">]</span>
<span class="n">od550aer_nafrica_2009</span><span class="o">.</span><span class="n">time_stamps</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;2005-01-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-02-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-03-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-04-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-05-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-06-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-07-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-08-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-09-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-10-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-11-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-12-01T00:00:00.000000&#39;</span><span class="p">],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[us]&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>in order to extract the year 2009.</p>
<p>However, this methodology might not always be handy (imagine you have a
10 year dataset of <code class="docutils literal notranslate"><span class="pre">3hourly</span></code> sampled data and want to extract three
months in the 6th year …). In that case, you can perform the cropping
using the actual timestamps (for comparibility, let’s stick to 2009
here):</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer_nafrica_2009_alt</span> <span class="o">=</span> <span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">time_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1-1-2009&#39;</span><span class="p">,</span> <span class="s1">&#39;1-1-2010&#39;</span><span class="p">))</span>
<span class="n">od550aer_nafrica_2009</span><span class="o">.</span><span class="n">time_stamps</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;2005-01-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-02-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-03-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-04-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-05-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-06-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-07-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-08-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-09-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-10-01T00:00:00.000000&#39;</span><span class="p">,</span>
       <span class="s1">&#39;2005-11-01T00:00:00.000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-12-01T00:00:00.000000&#39;</span><span class="p">],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[us]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="data-aggregation">
<h3>Data aggregation<a class="headerlink" href="#data-aggregation" title="Permalink to this headline">¶</a></h3>
<p>Let’s say we want to compute yearly means for each of the 3 years. In
this case we can simply call the <code class="docutils literal notranslate"><span class="pre">downscale_time</span></code> method:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">downscale_time</span><span class="p">(</span><span class="s1">&#39;yearly&#39;</span><span class="p">)</span>
<span class="n">od550aer_nafrica</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="s1">&#39;2009&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span> <span class="n">Please</span> <span class="n">use</span> <span class="n">new</span> <span class="n">name</span> <span class="n">resample_time</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_38_1.png" src="_images/tut00_get_started_38_1.png" />
<img alt="_images/tut00_get_started_38_2.png" src="_images/tut00_get_started_38_2.png" />
<p><strong>Note</strong>: seasonal aggregation is not yet implemented in pyaerocom but
will follow soon.</p>
<p>In the following section the reading of ungridded data is illustrated
based on the example of AERONET version 3 (level 2) data. The test
dataset contains a randomly picked subset of 100 Aeronet stations.
Aeronet provides different products,</p>
</div>
</div>
<div class="section" id="reading-of-and-working-with-ungridded-data-readungridded-and-ungriddeddata-classes">
<h2>Reading of and working with ungridded data (<code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> and <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> classes)<a class="headerlink" href="#reading-of-and-working-with-ungridded-data-readungridded-and-ungriddeddata-classes" title="Permalink to this headline">¶</a></h2>
<p>Ungridded data in pyaerocom refers to data that is available in the form
of <em>files per station</em> and that is not sampled in a manner that it would
make sense to translate into a rgular gridded format such as the
previously introduced <code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> class.</p>
<p>Data from the AERONET network (that is introduced in the following), for
instance, is provided in the form of column seperated text files per
measurement station, where columns correspond to different variables and
data rows to individual time stamps. Needless to say that the time
stamps (or the covered periods) vary from station to station.</p>
<p>The basic workflow for reading of ungridded data, such as Aeronet data,
is very similar to the reading of gridded data (comprising a reading
class that handles a query and returns a data class, here
<a class="reference external" href="http://aerocom.met.no/pyaerocom/api.html#module-pyaerocom.ungriddeddata">UngriddedData</a>
(see also flow chart above).</p>
<p>Before we can continue with the data import, some things need to be said
related to the caching of <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> objects.</p>
<div class="section" id="caching-of-ungriddeddata">
<h3>Caching of UngriddedData<a class="headerlink" href="#caching-of-ungriddeddata" title="Permalink to this headline">¶</a></h3>
<p>Reading of ungridded data is often rather time-consuming. Therefore,
pyaerocom uses a caching strategy that stores loaded instances of the
<code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> class as pickle files in a cache directory
(illustrated in the left hand side of the flowchart shown above). The
loaction of the cache directory can be accessed via:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHEDIR</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;/home/jonasg/MyPyaerocom/_cache/jonasg&#39;</span>
</pre></div>
</div>
<p>You may change this directory if required.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Caching is active? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHING</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Caching is active? True
</pre></div>
</div>
<div class="section" id="deactivate-activate-caching">
<h4>Deactivate / Activate caching<a class="headerlink" href="#deactivate-activate-caching" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHING</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CACHING</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p><strong>Note</strong>: if caching is active, make sure you have enough disk quota or
change location where the files are stored.</p>
</div>
</div>
<div class="section" id="read-aeronet-sun-v3-level-2-data">
<h3>Read Aeronet Sun v3 level 2 data<a class="headerlink" href="#read-aeronet-sun-v3-level-2-data" title="Permalink to this headline">¶</a></h3>
<p>As illustrated in the flowchart above, ungridded observation data can be
imported using the <code class="docutils literal notranslate"><span class="pre">ReadUngridded</span></code> class. The reading class requires
an ID for the observation network that is supposed to be read. Let’s
find the right ID for these data:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;Aeronet*V3*Lev2*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dataset</span> <span class="n">name</span><span class="p">:</span> <span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="n">daily</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom1</span><span class="o">/</span><span class="n">AEROCOM_OBSDATA</span><span class="o">/</span><span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="mf">0.</span><span class="n">daily</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Supported</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;od340aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od500aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer_calc&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">]</span>
<span class="n">Last</span> <span class="n">revision</span><span class="p">:</span> <span class="mi">20190425</span>

<span class="n">Dataset</span> <span class="n">name</span><span class="p">:</span> <span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="n">AP</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom1</span><span class="o">/</span><span class="n">AEROCOM_OBSDATA</span><span class="o">/</span><span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="mf">0.</span><span class="n">AP</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Supported</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;od340aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od500aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer_calc&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">]</span>
<span class="n">Last</span> <span class="n">revision</span><span class="p">:</span> <span class="mi">20190511</span>

<span class="n">Dataset</span> <span class="n">name</span><span class="p">:</span> <span class="n">AeronetSDAV3Lev2</span><span class="o">.</span><span class="n">daily</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom1</span><span class="o">/</span><span class="n">AEROCOM_OBSDATA</span><span class="o">/</span><span class="n">Aeronet</span><span class="o">.</span><span class="n">SDA</span><span class="o">.</span><span class="n">V3L2</span><span class="o">.</span><span class="mf">0.</span><span class="n">daily</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Supported</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;od500gt1aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od500lt1aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od500aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550gt1aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550lt1aer&#39;</span><span class="p">]</span>
<span class="n">Last</span> <span class="n">revision</span><span class="p">:</span> <span class="mi">20190425</span>
<span class="n">Reading</span> <span class="n">failed</span> <span class="k">for</span> <span class="n">AeronetSDAV3Lev2</span><span class="o">.</span><span class="n">AP</span><span class="o">.</span> <span class="n">Error</span><span class="p">:</span> <span class="n">NetworkNotImplemented</span><span class="p">(</span><span class="s1">&#39;No reading class available yet for dataset AeronetSDAV3Lev2.AP&#39;</span><span class="p">,)</span>

<span class="n">Dataset</span> <span class="n">name</span><span class="p">:</span> <span class="n">AeronetInvV3Lev2</span><span class="o">.</span><span class="n">daily</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom1</span><span class="o">/</span><span class="n">AEROCOM_OBSDATA</span><span class="o">/</span><span class="n">Aeronet</span><span class="o">.</span><span class="n">Inv</span><span class="o">.</span><span class="n">V3L2</span><span class="o">.</span><span class="mf">0.</span><span class="n">daily</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Supported</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;abs440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;angabs4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;abs550aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">]</span>
<span class="n">Last</span> <span class="n">revision</span><span class="p">:</span> <span class="mi">20190330</span>
</pre></div>
</div>
<p>It found one match and the dataset ID is <em>AeronetSunV3Lev2.daily</em>. It
also tells us what variables can be loaded via the interface.</p>
<p><strong>Note</strong>: You can safely ignore all the warnings in the output. These
are due to the fact that the testdata set does not contain all
observation networks that are available in the AEROCOM database.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">obs_reader</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadUngridded</span><span class="p">(</span><span class="s1">&#39;AeronetSunV3Lev2.daily&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obs_reader</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dataset</span> <span class="n">name</span><span class="p">:</span> <span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="n">daily</span>
<span class="n">Data</span> <span class="n">directory</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">storeA</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">aerocom</span><span class="o">/</span><span class="n">aerocom1</span><span class="o">/</span><span class="n">AEROCOM_OBSDATA</span><span class="o">/</span><span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="mf">0.</span><span class="n">daily</span><span class="o">/</span><span class="n">renamed</span>
<span class="n">Supported</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;od340aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od440aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od500aer&#39;</span><span class="p">,</span> <span class="s1">&#39;od870aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> <span class="s1">&#39;ang4487aer_calc&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">]</span>
<span class="n">Last</span> <span class="n">revision</span><span class="p">:</span> <span class="mi">20190425</span>
</pre></div>
</div>
<p>Let’s read the data (you can read a single or multiple variables at the
same time). For now, we only read the AOD at 550 nm:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aeronet_data</span> <span class="o">=</span> <span class="n">obs_reader</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">vars_to_retrieve</span><span class="o">=</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">aeronet_data</span><span class="p">)</span> <span class="c1">#displays data type</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Found</span> <span class="n">Cache</span> <span class="n">match</span> <span class="k">for</span> <span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="n">daily</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyaerocom</span><span class="o">.</span><span class="n">ungriddeddata</span><span class="o">.</span><span class="n">UngriddedData</span>
</pre></div>
</div>
<p>As you can see, the data object is of type <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code>. Like the
<code class="docutils literal notranslate"><span class="pre">GriddedData</span></code> object, also the <code class="docutils literal notranslate"><span class="pre">UngriddedData</span></code> class has an
informative string representation (that can be printed):</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">aeronet_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pyaerocom</span> <span class="n">UngriddedData</span>
<span class="o">-----------------------</span>
<span class="n">Contains</span> <span class="n">networks</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;AeronetSunV3Lev2.daily&#39;</span><span class="p">]</span>
<span class="n">Contains</span> <span class="n">variables</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;od550aer&#39;</span><span class="p">]</span>
<span class="n">Contains</span> <span class="n">instruments</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;sun_photometer&#39;</span><span class="p">]</span>
<span class="n">Total</span> <span class="n">no</span><span class="o">.</span> <span class="n">of</span> <span class="n">meta</span><span class="o">-</span><span class="n">blocks</span><span class="p">:</span> <span class="mi">1214</span>
</pre></div>
</div>
</div>
<div class="section" id="plot-all-station-coordinates">
<h3>Plot all station coordinates<a class="headerlink" href="#plot-all-station-coordinates" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">plot_station_coordinates</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_60_0.png" src="_images/tut00_get_started_60_0.png" />
</div>
<div class="section" id="access-of-individual-stations">
<h3>Access of individual stations<a class="headerlink" href="#access-of-individual-stations" title="Permalink to this headline">¶</a></h3>
<p>Get all station names:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_station_names</span> <span class="o">=</span> <span class="n">aeronet_data</span><span class="o">.</span><span class="n">unique_station_names</span>
<span class="n">all_station_names</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>  <span class="c1">#displays first 10 stations</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;AAOT&#39;</span><span class="p">,</span>
 <span class="s1">&#39;AOE_Baotou&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Ascension_Is&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Barnstable_MA&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Darwin&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Gan_Island&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Graciosa&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Highlands_MA&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_HyytialaFinland&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ARM_Macquarie_Is&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>For instance, to access the data for the city of Leipzig, Germany, you
can use square brackets with the station name of Leipzig:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">station_data</span> <span class="o">=</span> <span class="n">aeronet_data</span><span class="p">[</span><span class="s1">&#39;Leipzig&#39;</span><span class="p">]</span> <span class="c1"># this is fully equivalent with aeronet_data.to_station_data(&#39;Leipzig&#39;)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">station_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyaerocom</span><span class="o">.</span><span class="n">stationdata</span><span class="o">.</span><span class="n">StationData</span>
</pre></div>
</div>
<p>As you can see, the returned object is of type <code class="docutils literal notranslate"><span class="pre">StationData</span></code>, which is
one further data format of pyaerocom (note that this is not displayed in
the simplified flowchart above). <code class="docutils literal notranslate"><span class="pre">StationData</span></code> may be useful for
individual stations and is an extended Python dictionary (if you are
familiar with Python).</p>
<p>You may print it to see what is in there:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">station_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pyaerocom</span> <span class="n">StationData</span>
<span class="o">---------------------</span>
<span class="n">var_info</span> <span class="p">(</span><span class="n">BrowseDict</span><span class="p">):</span>
  <span class="n">od550aer</span> <span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>
    <span class="n">units</span><span class="p">:</span> <span class="mi">1</span>
    <span class="n">overlap</span><span class="p">:</span> <span class="kc">False</span>
    <span class="n">ts_type</span><span class="p">:</span> <span class="n">daily</span>
<span class="n">station_coords</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
  <span class="n">latitude</span><span class="p">:</span> <span class="mf">51.352500000000006</span>
  <span class="n">longitude</span><span class="p">:</span> <span class="mf">12.435277999999998</span>
  <span class="n">altitude</span><span class="p">:</span> <span class="mf">125.0</span>
<span class="n">data_err</span> <span class="p">(</span><span class="n">BrowseDict</span><span class="p">):</span>
  <span class="n">od550aer</span> <span class="p">(</span><span class="n">ndarray</span><span class="p">,</span> <span class="mi">2894</span> <span class="n">items</span><span class="p">):</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">]</span>
<span class="n">overlap</span> <span class="p">(</span><span class="n">BrowseDict</span><span class="p">):</span> <span class="o">&lt;</span><span class="n">empty_dict</span><span class="o">&gt;</span>
<span class="n">filename</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">station_id</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">station_name</span><span class="p">:</span> <span class="n">Leipzig</span>
<span class="n">instrument_name</span><span class="p">:</span> <span class="n">sun_photometer</span>
<span class="n">PI</span><span class="p">:</span> <span class="n">Brent_Holben</span>
<span class="n">country</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">ts_type</span><span class="p">:</span> <span class="n">daily</span>
<span class="n">latitude</span><span class="p">:</span> <span class="mf">51.352500000000006</span>
<span class="n">longitude</span><span class="p">:</span> <span class="mf">12.435277999999998</span>
<span class="n">altitude</span><span class="p">:</span> <span class="mf">125.0</span>
<span class="n">data_id</span><span class="p">:</span> <span class="n">AeronetSunV3Lev2</span><span class="o">.</span><span class="n">daily</span>
<span class="n">dataset_name</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">data_product</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">data_version</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">data_level</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">revision_date</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">ts_type_src</span><span class="p">:</span> <span class="n">daily</span>
<span class="n">stat_merge_pref_attr</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">data_revision</span><span class="p">:</span> <span class="mi">20190425</span>

<span class="n">Data</span> <span class="n">arrays</span>
<span class="o">.................</span>
<span class="n">dtime</span> <span class="p">(</span><span class="n">ndarray</span><span class="p">,</span> <span class="mi">6364</span> <span class="n">items</span><span class="p">):</span> <span class="p">[</span><span class="mi">2001</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">20</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000000000</span><span class="p">,</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">21</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000000000</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000000000</span><span class="p">,</span> <span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">21</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000000000</span><span class="p">]</span>
<span class="n">Pandas</span> <span class="n">Series</span>
<span class="o">.................</span>
<span class="n">od550aer</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="mi">6364</span> <span class="n">items</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see, this station contains a time-series of the AOD at 550
nm. If you like, you can plot this time-series:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">station_data</span><span class="o">.</span><span class="n">insert_nans_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">station_data</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x7fb73c7b1d68</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_68_1.png" src="_images/tut00_get_started_68_1.png" />
<p>You can also retrieve the <code class="docutils literal notranslate"><span class="pre">StationData</span></code> with specifying more
constraints using <code class="docutils literal notranslate"><span class="pre">to_station_data</span></code> (e.g.&nbsp;in monthly resolution and
only for the year 2010). And you can overlay different curves, by
passing the axes instance returned by the plotting method:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">=</span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;Leipzig&#39;</span><span class="p">,</span>
                                <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;daily&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">=</span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;Leipzig&#39;</span><span class="p">,</span>
                                <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Leipzig AODs 2010&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;Leipzig AODs 2010&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_70_1.png" src="_images/tut00_get_started_70_1.png" />
</div>
<div class="section" id="you-can-also-plot-the-time-series-directly">
<h3>You can also plot the time-series directly<a class="headerlink" href="#you-can-also-plot-the-time-series-directly" title="Permalink to this headline">¶</a></h3>
<p>For instance, if you want to do an air-quality check for you next
bouldering trip, you may call:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ts</span> <span class="o">=</span> <span class="n">aeronet_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;Fontainebleau&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="mi">2006</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;monthly&#39;</span><span class="p">)</span>
<span class="n">ts</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StationData</span><span class="p">([(</span><span class="s1">&#39;dtime&#39;</span><span class="p">,</span>
              <span class="n">array</span><span class="p">([</span><span class="s1">&#39;2006-01-15T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2006-02-15T00:00:00.000000000&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;2006-03-15T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2006-04-15T00:00:00.000000000&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;2006-05-15T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2006-06-15T00:00:00.000000000&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;2006-07-15T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2006-08-15T00:00:00.000000000&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;2006-09-15T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2006-10-15T00:00:00.000000000&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;2006-11-15T00:00:00.000000000&#39;</span><span class="p">,</span> <span class="s1">&#39;2006-12-15T00:00:00.000000000&#39;</span><span class="p">],</span>
                    <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">)),</span>
             <span class="p">(</span><span class="s1">&#39;var_info&#39;</span><span class="p">,</span>
              <span class="n">BrowseDict</span><span class="p">([(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span>
                           <span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;units&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                                        <span class="p">(</span><span class="s1">&#39;overlap&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                                        <span class="p">(</span><span class="s1">&#39;ts_type&#39;</span><span class="p">,</span> <span class="s1">&#39;monthly&#39;</span><span class="p">)]))])),</span>
             <span class="p">(</span><span class="s1">&#39;station_coords&#39;</span><span class="p">,</span>
              <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="mf">48.406666999999985</span><span class="p">,</span>
               <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="mf">2.6802780000000004</span><span class="p">,</span>
               <span class="s1">&#39;altitude&#39;</span><span class="p">:</span> <span class="mf">85.0</span><span class="p">}),</span>
             <span class="p">(</span><span class="s1">&#39;data_err&#39;</span><span class="p">,</span>
              <span class="n">BrowseDict</span><span class="p">([(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span>
                           <span class="n">array</span><span class="p">([</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span>
                                  <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">]))])),</span>
             <span class="p">(</span><span class="s1">&#39;overlap&#39;</span><span class="p">,</span> <span class="n">BrowseDict</span><span class="p">()),</span>
             <span class="p">(</span><span class="s1">&#39;filename&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;station_id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;station_name&#39;</span><span class="p">,</span> <span class="s1">&#39;Fontainebleau&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;instrument_name&#39;</span><span class="p">,</span> <span class="s1">&#39;sun_photometer&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;PI&#39;</span><span class="p">,</span> <span class="s1">&#39;Brent_Holben&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;ts_type&#39;</span><span class="p">,</span> <span class="s1">&#39;monthly&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="mf">48.406666999999985</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="mf">2.6802780000000004</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;altitude&#39;</span><span class="p">,</span> <span class="mf">85.0</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;data_id&#39;</span><span class="p">,</span> <span class="s1">&#39;AeronetSunV3Lev2.daily&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;dataset_name&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;data_product&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;data_version&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;data_level&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;revision_date&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;ts_type_src&#39;</span><span class="p">,</span> <span class="s1">&#39;daily&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;stat_merge_pref_attr&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;data_revision&#39;</span><span class="p">,</span> <span class="s1">&#39;20190425&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="mi">2006</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.176742</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.176013</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.252403</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.195318</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.215357</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.195586</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.224991</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.131814</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.151338</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.141222</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.088815</span>
              <span class="mi">2006</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">15</span>    <span class="mf">0.106992</span>
              <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span><span class="p">)])</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aeronet_data</span><span class="o">.</span><span class="n">plot_station_timeseries</span><span class="p">(</span><span class="s1">&#39;Fontainebleau&#39;</span><span class="p">,</span> <span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                     <span class="n">start</span><span class="o">=</span><span class="mi">2006</span><span class="p">)</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;AOD in Fontainebleau, 2006&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;AOD in Fontainebleau, 2006&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_73_1.png" src="_images/tut00_get_started_73_1.png" />
<p>Seems like November is a good time (maybe a bit rainy though)</p>
</div>
</div>
<div class="section" id="colocation-of-model-and-obsdata">
<h2>Colocation of model and obsdata<a class="headerlink" href="#colocation-of-model-and-obsdata" title="Permalink to this headline">¶</a></h2>
<p>Now that we have different data objects loaded we can continue with
colocation. In the following, both the all-sky and the clear-sky data
from CAM53-Oslo will be colocated with the subset of Aeronet stations
that we just loaded.</p>
<p>The colocation will be performed for the year of 2010 and two scatter
plots will be created.</p>
<p>You have also the option to apply a certain filter when colocating using
a valid filter name. Here, we use global data and exclude mountain
sides.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_all_sky_glob</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">od550aer</span><span class="p">,</span> <span class="n">aeronet_data</span><span class="p">,</span>
                                                                <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                                                <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                                                <span class="n">filter_name</span><span class="o">=</span><span class="s1">&#39;WORLD-noMOUNTAINS&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">col_all_sky_glob</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span> <span class="n">Please</span> <span class="n">use</span> <span class="n">new</span> <span class="n">name</span> <span class="n">resample_time</span>
<span class="n">Setting</span> <span class="n">od550aer</span> <span class="n">outlier</span> <span class="n">lower</span> <span class="n">lim</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.00</span>
<span class="n">Setting</span> <span class="n">od550aer</span> <span class="n">outlier</span> <span class="n">upper</span> <span class="n">lim</span><span class="p">:</span> <span class="mf">10.00</span>
<span class="n">Interpolating</span> <span class="n">data</span> <span class="n">of</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">288</span><span class="p">)</span><span class="o">.</span> <span class="n">This</span> <span class="n">may</span> <span class="n">take</span> <span class="n">a</span> <span class="k">while</span><span class="o">.</span>
<span class="n">Successfully</span> <span class="n">interpolated</span> <span class="n">cube</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyaerocom</span><span class="o">.</span><span class="n">colocateddata</span><span class="o">.</span><span class="n">ColocatedData</span>
</pre></div>
</div>
<p>Let’s do the same for the clear-sky data.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_clear_sky_glob</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">od550csaer</span><span class="p">,</span> <span class="n">aeronet_data</span><span class="p">,</span>
                                                                  <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                                                  <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                                                  <span class="n">filter_name</span><span class="o">=</span><span class="s1">&#39;WORLD-noMOUNTAINS&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">col_clear_sky_glob</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span> <span class="n">Please</span> <span class="n">use</span> <span class="n">new</span> <span class="n">name</span> <span class="n">resample_time</span>
<span class="n">Setting</span> <span class="n">od550aer</span> <span class="n">outlier</span> <span class="n">lower</span> <span class="n">lim</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.00</span>
<span class="n">Setting</span> <span class="n">od550aer</span> <span class="n">outlier</span> <span class="n">upper</span> <span class="n">lim</span><span class="p">:</span> <span class="mf">10.00</span>
<span class="n">Interpolating</span> <span class="n">data</span> <span class="n">of</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">288</span><span class="p">)</span><span class="o">.</span> <span class="n">This</span> <span class="n">may</span> <span class="n">take</span> <span class="n">a</span> <span class="k">while</span><span class="o">.</span>
<span class="n">Successfully</span> <span class="n">interpolated</span> <span class="n">cube</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyaerocom</span><span class="o">.</span><span class="n">colocateddata</span><span class="o">.</span><span class="n">ColocatedData</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax1</span> <span class="o">=</span> <span class="n">col_all_sky_glob</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;All sky (2010, monthly)&#39;</span><span class="p">);</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_80_0.png" src="_images/tut00_get_started_80_0.png" />
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax2</span> <span class="o">=</span> <span class="n">col_clear_sky_glob</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">()</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Clear sky (2010, monthly)&#39;</span><span class="p">);</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_81_0.png" src="_images/tut00_get_started_81_0.png" />
<p>… or for EUROPE:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">od550aer</span><span class="p">,</span> <span class="n">aeronet_data</span><span class="p">,</span>
                                          <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                          <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span>
                                          <span class="n">filter_name</span><span class="o">=</span><span class="s1">&#39;EUROPE-noMOUNTAINS&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span> <span class="n">Please</span> <span class="n">use</span> <span class="n">new</span> <span class="n">name</span> <span class="n">resample_time</span>
<span class="n">Setting</span> <span class="n">od550aer</span> <span class="n">outlier</span> <span class="n">lower</span> <span class="n">lim</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.00</span>
<span class="n">Setting</span> <span class="n">od550aer</span> <span class="n">outlier</span> <span class="n">upper</span> <span class="n">lim</span><span class="p">:</span> <span class="mf">10.00</span>
<span class="n">Interpolating</span> <span class="n">data</span> <span class="n">of</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">288</span><span class="p">)</span><span class="o">.</span> <span class="n">This</span> <span class="n">may</span> <span class="n">take</span> <span class="n">a</span> <span class="k">while</span><span class="o">.</span>
<span class="n">Successfully</span> <span class="n">interpolated</span> <span class="n">cube</span>
</pre></div>
</div>
<img alt="_images/tut00_get_started_83_1.png" src="_images/tut00_get_started_83_1.png" />
<div class="section" id="remark-on-the-colocateddata-object">
<h3>Remark on the ColocatedData object<a class="headerlink" href="#remark-on-the-colocateddata-object" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ColocatedData</span></code> object has not many features and methods
implemented yet. But it builds a good basis for further analysis using
features of the underlying data-structure, which is an instance of the
<a class="reference external" href="http://xarray.pydata.org/en/stable/generated/xarray.DataArray.html">xarray.DataArray</a>
class and can be accessed via the <code class="docutils literal notranslate"><span class="pre">data</span></code> attribute if the
<code class="docutils literal notranslate"><span class="pre">ColocatedData</span></code> object:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">col_all_sky_glob</span><span class="o">.</span><span class="n">data</span>
<span class="nb">type</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xarray</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">dataarray</span><span class="o">.</span><span class="n">DataArray</span>
</pre></div>
</div>
<p>You may want to read more about it
<a class="reference external" href="http://xarray.pydata.org/en/stable/data-structures.html">here</a>.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, met.no.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>